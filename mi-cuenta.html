<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi Cuenta - HuertoHogar</title>
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="assets/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="assets/favicon/favicon-96x96.png">
    <link rel="apple-touch-icon" sizes="180x180" href="assets/favicon/apple-icon-180x180.png">
    <link rel="manifest" href="assets/favicon/manifest.json">
    <link rel="stylesheet" href="assets/css/normalizar.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="assets/css/style.css">
    <!-- OpenStreetMap con Leaflet (Mapa real) -->
    <!-- Google Maps API -->
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC9dKesKspSmeqK11tkJ74bxB5Er3GhGPY&libraries=places&loading=async&callback=initMap"></script>
    <style>
        /* Layout principal profesional */
        .account-layout {
            display: grid;
            grid-template-columns: 320px 1fr;
            gap: 2.5rem;
            max-width: 1400px;
            margin: 0 auto;
            padding: 2.5rem 2rem;
            min-height: calc(100vh - 200px);
            background: linear-gradient(135deg, #f8fffe 0%, #f0f8f5 100%);
            position: relative;
        }
        /* Sidebar profesional */
        .account-sidebar {
            background: #fff;
            border-radius: 24px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.08), 0 8px 25px rgba(0,0,0,0.05);
            padding: 2.5rem;
            height: fit-content;
            position: sticky;
            top: 2.5rem;
            border: 1px solid rgba(46, 139, 87, 0.1);
            backdrop-filter: blur(10px);
            grid-column: 1;
        }
        .sidebar-header {
            margin-bottom: 2.5rem;
            padding-bottom: 2rem;
            border-bottom: 1px solid rgba(46, 139, 87, 0.15);
            position: relative;
        }
        .sidebar-header::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            width: 60px;
            height: 3px;
            background: linear-gradient(90deg, #2E8B57, #4CAF50);
            border-radius: 2px;
        }
        .sidebar-header h2 {
            font-size: 2rem;
            font-weight: 700;
            color: #2E8B57;
            margin: 0 0 1.5rem 0;
            font-family: 'Playfair Display', serif;
            letter-spacing: -0.5px;
        }
        .user-info {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        .user-info span:first-child {
            font-weight: 600;
            color: #333;
            font-size: 1.1rem;
        }
        .user-balance {
            color: #2E8B57;
            font-weight: 700;
            font-size: 1.2rem;
        }
        .sidebar-nav {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        .nav-item {
            display: flex;
            align-items: center;
            gap: 1.2rem;
            padding: 1.2rem 1.8rem;
            border: none;
            background: transparent;
            border-radius: 16px;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            text-align: left;
            font-size: 1rem;
            font-weight: 500;
            color: #64748b;
            position: relative;
            margin-bottom: 0.5rem;
            overflow: hidden;
            font-family: 'Montserrat', sans-serif;
        }
        .nav-item::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            width: 4px;
            background: linear-gradient(180deg, #2E8B57, #4CAF50);
            transform: scaleY(0);
            transition: transform 0.3s ease;
            border-radius: 0 2px 2px 0;
        }
        .nav-item:hover {
            background: linear-gradient(135deg, rgba(46, 139, 87, 0.08), rgba(76, 175, 80, 0.05));
            color: #2E8B57;
            transform: translateX(8px);
            box-shadow: 0 4px 20px rgba(46, 139, 87, 0.15);
        }
        .nav-item:hover::before {
            transform: scaleY(1);
        }
        .nav-item.active {
            background: linear-gradient(135deg, #2E8B57, #4CAF50);
            color: white;
            box-shadow: 0 12px 35px rgba(46, 139, 87, 0.25);
            transform: translateX(8px);
        }
        .nav-item.active::before {
            transform: scaleY(1);
            background: rgba(255, 255, 255, 0.3);
        }
        .nav-item i {
            font-size: 1.3rem;
            width: 24px;
            text-align: center;
            transition: transform 0.3s ease;
        }
        .nav-item:hover i {
            transform: scale(1.1);
        }
        .logout-item {
            margin-top: 1rem;
            padding-top: 1.5rem;
            border-top: 1px solid #f0f0f0;
            color: #dc3545;
        }
        .logout-item:hover {
            background: #f8d7da;
            color: #dc3545;
        }
        /* Estilos para las nuevas secciones */
        .section-description {
            color: #666;
            font-size: 1rem;
            margin-bottom: 2rem;
        }
        .form-hint {
            color: #666;
            font-size: 0.85rem;
            margin-top: 0.25rem;
            display: block;
        }
        .diet-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }
        .diet-option {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .diet-option:hover {
            border-color: #2E8B57;
            background: #f0fdf4;
        }
        .diet-option input[type="checkbox"] {
            margin: 0;
        }
        .diet-option input[type="checkbox"]:checked + span {
            color: #2E8B57;
            font-weight: 600;
        }
        .form-actions {
            margin-top: 2rem;
            text-align: center;
        }
        .btn-primary {
            background: linear-gradient(135deg, #2E8B57, #4CAF50);
            color: white;
            border: none;
            padding: 1.2rem 2.5rem;
            border-radius: 16px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
            font-family: 'Montserrat', sans-serif;
            letter-spacing: 0.025em;
            position: relative;
            overflow: hidden;
        }
        .btn-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }
        .btn-primary:hover::before {
            left: 100%;
        }
        .btn-primary:hover {
            background: linear-gradient(135deg, #2d7a52, #45a049);
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(46, 139, 87, 0.25);
        }
        .btn-primary:active {
            transform: translateY(-1px);
        }
        /* Estilos para historial de pedidos */
        .orders-filter {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
        }
        .filter-btn {
            padding: 0.75rem 1.5rem;
            border: 2px solid #e5e7eb;
            background: white;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }
        .filter-btn.active,
        .filter-btn:hover {
            border-color: #2E8B57;
            background: #2E8B57;
            color: white;
        }
        .orders-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        .order-card {
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        /* Estilos para recomendaciones */
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1.5rem;
            margin: 1.5rem 0;
        }
        .product-card {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }
        .product-card:hover {
            transform: translateY(-4px);
        }
        /* Estilos para programa de fidelización */
        .loyalty-status {
            margin-bottom: 2rem;
        }
        .status-card {
            background: linear-gradient(135deg, #2E8B57, #4CAF50);
            color: white;
            padding: 2rem;
            border-radius: 16px;
            text-align: center;
        }
        .status-level {
            font-size: 1.5rem;
            font-weight: 700;
            display: block;
            margin-bottom: 0.5rem;
        }
        .status-points {
            font-size: 2rem;
            font-weight: 700;
            display: block;
            margin-bottom: 1rem;
        }
        .progress-bar {
            background: rgba(255,255,255,0.3);
            height: 8px;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 1rem;
        }
        .progress-fill {
            background: white;
            height: 100%;
            transition: width 0.3s ease;
        }
        .benefits-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
        }
        .benefit-card {
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        .benefit-card i {
            font-size: 2rem;
            color: #2E8B57;
            margin-bottom: 1rem;
        }
        /* Estilos para impacto ambiental */
        .impact-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        .stat-card {
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        .stat-card i {
            font-size: 2rem;
            color: #2E8B57;
            margin-bottom: 1rem;
        }
        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: #2E8B57;
            display: block;
            margin-bottom: 0.5rem;
        }
        .contribution-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        .contribution-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        .contribution-item i {
            font-size: 1.5rem;
            color: #2E8B57;
        }
        /* Estilos para configuración */
        .settings-section {
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            margin-bottom: 1.5rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        .setting-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem 0;
            border-bottom: 1px solid #e5e7eb;
        }
        .setting-item:last-child {
            border-bottom: none;
        }
        .switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .slider {
            background-color: #2E8B57;
        }
        input:checked + .slider:before {
            transform: translateX(26px);
        }
        .setting-info h4 {
            margin: 0 0 0.25rem 0;
            font-size: 1rem;
        }
        .setting-info p {
            margin: 0;
            color: #666;
            font-size: 0.9rem;
        }
        /* Responsive Design */
        @media (max-width: 768px) {
            .account-layout {
                grid-template-columns: 1fr;
                gap: 1rem;
                padding: 1rem;
            }
            .account-sidebar {
                position: static;
                order: 2;
            }
            .account-content {
                order: 1;
            }
            .profile-form-section {
                padding: 1.5rem;
            }
            .form-row {
                grid-template-columns: 1fr;
            }
            .diet-options {
                grid-template-columns: 1fr;
            }
        }
        /* Contenido principal profesional */
        .account-content {
            min-height: 600px;
            display: flex;
            flex-direction: column;
            background: #fff;
            border-radius: 24px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.08), 0 8px 25px rgba(0,0,0,0.05);
            border: 1px solid rgba(46, 139, 87, 0.1);
            overflow: hidden;
            position: relative;
            grid-column: 2;
        }
        .section-header {
            margin-bottom: 2.5rem;
            padding: 2.5rem 2.5rem 0 2.5rem;
            background: linear-gradient(135deg, #f8fffe 0%, #f0f8f5 100%);
            border-bottom: 1px solid rgba(46, 139, 87, 0.1);
        }
        .section-header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            color: #2E8B57;
            margin: 0 0 1rem 0;
            font-family: 'Playfair Display', serif;
            letter-spacing: -1px;
            position: relative;
        }
        .section-header h1::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 0;
            width: 80px;
            height: 4px;
            background: linear-gradient(90deg, #2E8B57, #4CAF50);
            border-radius: 2px;
        }
        /* Estilos para la sección de Datos Personales */
        .user-info-display {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-top: 0.5rem;
        }
        .user-balance-display {
            font-weight: 600;
            color: #2E8B57;
        }
        .profile-container {
            width: 100%;
            margin: 0;
            padding: 2.5rem;
        }
        .profile-form-section {
            background: transparent;
            border-radius: 0;
            padding: 0;
            margin-bottom: 0;
            box-shadow: none;
            width: 100%;
        }
        .profile-form-section h2 {
            color: #1e293b;
            margin-bottom: 2rem;
            font-size: 1.8rem;
            font-weight: 600;
            font-family: 'Playfair Display', serif;
            letter-spacing: -0.5px;
        }
        .section-description {
            color: #64748b;
            font-size: 1rem;
            margin-bottom: 2.5rem;
            line-height: 1.6;
        }
        .rut-input-container {
            position: relative;
        }
        .rut-checkmark {
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 14px;
            pointer-events: none;
            transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
            opacity: 0;
            scale: 0.3;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        .rut-checkmark.valid {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            opacity: 1;
            scale: 1;
            box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }
        .rut-checkmark.invalid {
            background: linear-gradient(135deg, #f44336, #d32f2f);
            color: white;
            opacity: 1;
            scale: 1;
            box-shadow: 0 4px 12px rgba(244, 67, 54, 0.3);
        }
        .rut-input-container.valid input {
            border-color: #4CAF50;
            box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.15);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .rut-input-container.invalid input {
            border-color: #f44336;
            box-shadow: 0 0 0 3px rgba(244, 67, 54, 0.15);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .rut-input-container input {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            padding-right: 45px; /* Espacio para el ícono */
        }
        .rut-input-container input:focus {
            outline: none;
            border-color: #2E8B57;
            box-shadow: 0 0 0 3px rgba(46, 139, 87, 0.2);
        }
        /* Estilos para campos readonly (email y RUT) */
        #profile-email, #profile-rut {
            color: #6B7280 !important; /* Color plomo más suave */
            background-color: #F9FAFB !important; /* Fondo más claro */
            cursor: not-allowed !important;
            font-style: italic; /* Texto en cursiva para indicar que es informativo */
        }
        #profile-email:focus, #profile-rut:focus {
            border-color: #D1D5DB !important; /* Borde gris al hacer focus */
            box-shadow: none !important; /* Sin sombra al hacer focus */
        }
        /* Mejorar el texto descriptivo de campos readonly */
        #profile-email + small, #profile-rut + small {
            color: #9CA3AF;
            font-style: italic;
            font-size: 0.85rem;
        }
        /* Estilo para field-note */
        .field-note {
            color: #9CA3AF;
            font-style: italic;
            font-size: 0.85rem;
            margin-top: 0.25rem;
            display: block;
        }
        /* Estilos específicos para el campo de teléfono en Mi Cuenta */
        .phone-field {
            display: flex;
            gap: 0.5rem;
            align-items: center;
        }
        .phone-field .country-code {
            width: 80px !important;
            min-width: 80px;
            max-width: 80px;
            flex-shrink: 0;
            padding: 0.875rem 0.5rem;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-size: 0.875rem;
            background: white;
            color: #374151;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .phone-field .country-code:focus {
            outline: none;
            border-color: #2E8B57;
            box-shadow: 0 0 0 3px rgba(46, 139, 87, 0.1);
        }
        .phone-field input[type="tel"] {
            flex: 1;
            min-width: 0;
            padding: 0.875rem 1rem;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-size: 0.875rem;
            transition: all 0.2s ease;
        }
        .phone-field input[type="tel"]:focus {
            outline: none;
            border-color: #2E8B57;
            box-shadow: 0 0 0 3px rgba(46, 139, 87, 0.1);
        }
        .date-input-container {
            position: relative;
            display: flex;
            align-items: center;
            border: 1px solid #D1D5DB;
            border-radius: 8px;
            background: #F3F4F6;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            width: 656px;
            height: 52px;
        }
        .date-input-container:focus-within {
            border-color: #2E8B57;
            box-shadow: 0 0 0 3px rgba(46, 139, 87, 0.1);
        }
        .date-input-container input {
            border: none !important;
            outline: none !important;
            flex: 1;
            padding: 12px 16px !important;
            background: transparent !important;
            font-size: 0.9rem !important;
            color: #374151 !important;
            font-weight: 400 !important;
            height: 100% !important;
            border-radius: 0 !important;
            box-shadow: none !important;
            margin: 0 !important;
            width: auto !important;
            max-width: none !important;
        }
        .date-input-container input::placeholder {
            color: #9CA3AF;
            font-weight: 400;
        }
        .date-input-container input:focus {
            background: transparent !important;
            border: none !important;
            outline: none !important;
            box-shadow: none !important;
        }
        .date-input-container .fas {
            color: #6B7280;
            font-size: 1.1rem;
            margin-right: 16px;
            transition: color 0.3s ease;
        }
        .date-input-container:hover .fas {
            color: #2E8B57;
        }
        /* Estilos para el calendario */
        #date-picker button:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        #prev-month:hover, #next-month:hover {
            background: #E5E7EB !important;
            color: #2E8B57 !important;
        }
        #clear-date:hover {
            background: #d32f2f !important;
        }
        #close-calendar:hover {
            background: #4B5563 !important;
        }
        /* Estilos para los días del calendario */
        .calendar-day {
            padding: 8px;
            cursor: pointer;
            border-radius: 6px;
            transition: all 0.2s ease;
            font-size: 13px;
            font-weight: 500;
        }
        .calendar-day:hover {
            background: #F3F4F6;
            color: #2E8B57;
        }
        .calendar-day.selected {
            background: #2E8B57;
            color: white;
        }
        .calendar-day.other-month {
            color: #9CA3AF;
        }
        .calendar-day.today {
            background: #E5E7EB;
            font-weight: 600;
        }
        /* Estilos para el selector de año */
        #year-selector {
            transition: all 0.2s ease;
        }
        #year-selector:focus {
            outline: none;
            border-color: #2E8B57;
            box-shadow: 0 0 0 3px rgba(46, 139, 87, 0.1);
        }
        #prev-year:hover, #next-year:hover {
            background: #E5E7EB !important;
            color: #2E8B57 !important;
        }
        .phone-input-container {
            display: flex;
            align-items: stretch;
            border: 1px solid #D1D5DB;
            border-radius: 8px;
            overflow: hidden;
            background: #F3F4F6;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: none;
            width: 656px;
            height: 52px;
            position: relative;
        }
        .phone-input-container:focus-within {
            border-color: #2E8B57;
            box-shadow: 0 0 0 3px rgba(46, 139, 87, 0.1);
        }
        .phone-prefix {
            background: #F3F4F6;
            padding: 12px 8px;
            border-right: 1px solid #D1D5DB;
            color: #4B5563;
            font-weight: 500;
            font-size: 0.9rem;
            width: 60px;
            text-align: center;
            user-select: none;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 0;
            flex-shrink: 0;
        }
        .phone-input-container input {
            border: none;
            outline: none;
            flex: 1;
            padding: 12px 16px;
            background: #F3F4F6;
            font-size: 0.9rem;
            color: #374151;
            font-weight: 400;
            height: 100%;
            display: flex;
            align-items: center;
            border-radius: 0;
            box-shadow: none;
        }
        .phone-input-container input::placeholder {
            color: #9CA3AF;
            font-weight: 400;
        }
        .phone-input-container input:focus {
            background: transparent;
            border: none;
            outline: none;
            box-shadow: none;
        }
        /* Asegurar que el input no tenga estilos de borde heredados */
        .phone-input-container input[type="tel"] {
            border: none !important;
            border-radius: 0 !important;
            box-shadow: none !important;
            outline: none !important;
        }
        /* Ícono de validación para teléfono */
        .phone-checkmark {
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 14px;
            pointer-events: none;
            transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
            opacity: 0;
            scale: 0.3;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        .phone-checkmark.valid {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            opacity: 1;
            scale: 1;
            box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }
        .phone-checkmark.invalid {
            background: linear-gradient(135deg, #f44336, #d32f2f);
            color: white;
            opacity: 1;
            scale: 1;
            box-shadow: 0 4px 12px rgba(244, 67, 54, 0.3);
        }
        /* Estados de validación para el teléfono */
        .phone-input-container.valid {
            border-color: #4CAF50;
            box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
        }
        .phone-input-container.invalid {
            border-color: #f44336;
            box-shadow: 0 0 0 3px rgba(244, 67, 54, 0.1);
        }
        .household-section {
            background: #f8fffe;
            border-radius: 20px;
            padding: 2.5rem;
            margin: 2rem 0;
            border: 1px solid rgba(46, 139, 87, 0.1);
        }
        .household-section h3 {
            color: #1e293b;
            margin-bottom: 1.5rem;
            font-size: 1.4rem;
            font-weight: 600;
            font-family: 'Playfair Display', serif;
        }
        .household-inputs {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }
        .household-inputs select {
            width: 100%;
            padding: 1rem 1.25rem;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            font-size: 1rem;
            background: #fff;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            color: #1e293b;
            font-family: 'Montserrat', sans-serif;
        }
        .household-inputs select:focus {
            outline: none;
            border-color: #2E8B57;
            box-shadow: 0 0 0 4px rgba(46, 139, 87, 0.1);
            transform: translateY(-1px);
        }
        .household-inputs select:hover {
            border-color: #cbd5e1;
        }
        .diet-section {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .diet-section h3 {
            color: #333;
            margin-bottom: 0.5rem;
            font-size: 1.2rem;
            font-weight: 600;
        }
        .diet-subtitle {
            color: #666;
            margin-bottom: 1.5rem;
            font-size: 0.9rem;
        }
        .diet-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
        }
        .diet-tag {
            display: flex;
            align-items: center;
            padding: 8px 16px;
            border: 2px solid #e9ecef;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
        }
        .diet-tag:hover {
            border-color: #2E8B57;
            background: #f8fff8;
        }
        .diet-tag input[type="checkbox"] {
            display: none;
        }
        .diet-tag input[type="checkbox"]:checked + .tag-text {
            color: #2E8B57;
            font-weight: 600;
        }
        .diet-tag input[type="checkbox"]:checked {
            background: #2E8B57;
        }
        .diet-tag:has(input[type="checkbox"]:checked) {
            border-color: #2E8B57;
            background: #f0f8f0;
        }
        .tag-text {
            font-size: 0.9rem;
            color: #333;
            transition: all 0.3s ease;
        }
        .form-actions {
            display: flex;
            justify-content: flex-end;
            align-items: center;
            gap: 1rem;
            margin-top: 2rem;
        }
        .form-actions .btn {
            padding: 12px 24px;
            font-size: 1rem;
        }
        /* Estilos para la sección de Saldo */
        .balance-container {
            max-width: 800px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }
        .balance-card {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            text-align: center;
        }
        .balance-card h3 {
            color: #333;
            margin-bottom: 1.5rem;
            font-size: 1.3rem;
            font-weight: 600;
        }
        .balance-input-container {
            margin-bottom: 1.5rem;
        }
        .balance-input {
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 1rem;
            background: #f8f9fa;
            margin-bottom: 1rem;
        }
        .currency-symbol {
            font-size: 1.5rem;
            font-weight: 600;
            color: #2E8B57;
            margin-right: 0.5rem;
        }
        .balance-amount-input {
            border: none;
            background: transparent;
            font-size: 2rem;
            font-weight: 700;
            color: #333;
            text-align: center;
            width: 120px;
            outline: none;
        }
        .balance-description {
            color: #666;
            font-size: 0.9rem;
            margin: 0;
            line-height: 1.4;
        }
        .btn-outline-light {
            background: transparent;
            border: 2px solid #2E8B57;
            color: #2E8B57;
            padding: 10px 20px;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .btn-outline-light:hover {
            background: #2E8B57;
            color: white;
        }
        @media (max-width: 768px) {
            .balance-container {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
        }
        /* Estilos para la sección HuertoHogar CLUB */
        .club-container {
            max-width: 1000px;
            margin: 0 auto;
        }
        .promo-banner {
            background: #000;
            color: white;
            padding: 1rem 2rem;
            border-radius: 8px;
            margin-bottom: 2rem;
            text-align: center;
        }
        .promo-content {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            font-weight: 600;
        }
        .promo-content i {
            font-size: 1.2rem;
        }
        .loyalty-level-card {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .level-header {
            display: flex;
            align-items: center;
            gap: 1.5rem;
            margin-bottom: 1rem;
        }
        .level-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #2E8B57, #4CAF50);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
        }
        .level-info h2 {
            color: #333;
            margin: 0 0 1rem 0;
            font-size: 1.5rem;
        }
        .level-stats {
            display: flex;
            gap: 2rem;
        }
        .stat-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .stat-label {
            color: #666;
            font-size: 0.9rem;
        }
        .stat-value {
            font-weight: 600;
            color: #2E8B57;
        }
        .stat-item i {
            color: #2E8B57;
            font-size: 0.9rem;
        }
        .level-description {
            color: #666;
            font-size: 0.9rem;
            margin: 0;
        }
        .accumulation-message {
            background: #f8f9fa;
            padding: 1rem 2rem;
            border-radius: 8px;
            margin-bottom: 2rem;
            text-align: center;
        }
        .accumulation-message p {
            margin: 0;
            color: #2E8B57;
            font-weight: 600;
        }
        .transaction-history {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .transaction-history h3 {
            color: #333;
            margin-bottom: 1.5rem;
            font-size: 1.2rem;
        }
        .history-table {
            border: 1px solid #e9ecef;
            border-radius: 8px;
            overflow: hidden;
        }
        .table-header {
            display: grid;
            grid-template-columns: 1fr 2fr 1fr 1fr;
            background: #f8f9fa;
            padding: 1rem;
            font-weight: 600;
            color: #333;
        }
        .table-empty {
            padding: 2rem;
            text-align: center;
            color: #666;
        }
        .membership-promo {
            background: #FFD700;
            color: #000;
            padding: 1.5rem 2rem;
            border-radius: 8px;
            margin-bottom: 2rem;
        }
        .membership-promo .promo-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 2rem;
        }
        .membership-promo span {
            font-weight: 600;
            flex: 1;
        }
        .btn-premium {
            background: #2E8B57;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
        }
        .btn-premium:hover {
            background: #4CAF50;
        }
        .benefits-section {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .benefits-section h3 {
            color: #333;
            margin-bottom: 2rem;
            font-size: 1.5rem;
            text-align: center;
        }
        .benefits-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }
        .benefit-card {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 8px;
            text-align: center;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }
        .benefit-card:hover {
            border-color: #2E8B57;
            background: #f0f8f0;
        }
        .benefit-card i {
            font-size: 2rem;
            color: #2E8B57;
            margin-bottom: 1rem;
        }
        .benefit-card h4 {
            color: #333;
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }
        .benefit-card p {
            color: #666;
            font-size: 0.9rem;
            margin: 0;
            line-height: 1.4;
        }
        @media (max-width: 768px) {
            .level-stats {
                flex-direction: column;
                gap: 1rem;
            }
            .membership-promo .promo-content {
                flex-direction: column;
                text-align: center;
            }
            .benefits-grid {
                grid-template-columns: 1fr;
            }
            .table-header {
                grid-template-columns: 1fr;
                gap: 0.5rem;
            }
        }
        .modal-close {
            position: absolute;
            right: 12px;
            top: 12px;
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            cursor: pointer;
            padding: 8px;
            transition: all 0.3s ease;
            color: #64748b;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            border-radius: 8px;
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
        }
        .modal-close:hover {
            background: #f1f5f9;
            color: #334155;
            border-color: #cbd5e1;
            transform: translateY(-1px);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .modal-close svg {
            width: 20px;
            height: 20px;
        }
        .modal-body {
            padding: 0;
            text-align: left;
            height: calc(255px - 40px); /* Altura inicial menos padding del modal */
            overflow: visible; /* Permitir que el dropdown se vea */
            display: flex;
            flex-direction: column;
            justify-content: center;
            margin-top: 0;
            box-sizing: border-box;
            font-family: "Euclid Circular A", sans-serif;
            font-weight: 300;
            line-height: 24px;
        }
        /* Modal body expandido para dirección */
        .address-modal.expanded .modal-body {
            padding: 0;
            height: calc(600px - 40px); /* Altura expandida menos padding del modal */
            min-height: auto;
            overflow: visible; /* Sin scroll */
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            margin-top: 0;
            box-sizing: border-box;
            font-family: "Euclid Circular A", sans-serif;
            font-weight: 300;
            line-height: 24px;
        }
        /* Estilos específicos para el modal expandido - Diseño profesional */
        .address-modal.expanded .modal-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: #1f2937;
            text-align: center;
            margin: 0 0 0.5rem 0;
            line-height: 1.3;
            width: 100%;
        }
        .address-modal.expanded .modal-subtitle {
            font-size: 0.95rem;
            font-weight: 500;
            color: #6b7280;
            text-align: center;
            margin: 0 0 1rem 0;
            line-height: 1.3;
            width: 100%;
        }
        .address-modal.expanded .delivery-options {
            display: flex;
            gap: 10px;
            margin: 0 0 1rem 0;
            justify-content: flex-start;
        }
        .address-modal.expanded .delivery-option {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.7rem;
            padding: 0.9rem 1.2rem;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            background: #ffffff;
            color: #374151;
            font-weight: 600;
            font-size: 0.95rem;
            line-height: 1.3;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            flex: 0 0 calc(50% - 5px);
            box-shadow: 0 3px 6px rgba(0,0,0,0.08);
            height: 52px;
        }
        .address-modal.expanded .delivery-option:hover {
            border-color: #10b981;
            background: #f0fdf4;
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(16, 185, 129, 0.15);
        }
        .address-modal.expanded .delivery-option.active {
            border-color: #10b981 !important;
            background: #10b981 !important;
            color: white !important;
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.25);
            transform: translateY(-1px);
        }
        .address-modal.expanded .delivery-icon {
            width: 22px;
            height: 22px;
            fill: #10b981;
            transition: all 0.3s ease;
        }
        .address-modal.expanded .delivery-option.active .delivery-icon {
            fill: white !important;
        }
        .address-modal.expanded .free-badge {
            position: absolute;
            top: -8px;
            right: -8px;
            background: #10b981;
            color: white;
            padding: 0.2rem 0.4rem;
            border-radius: 8px;
            font-size: 0.65rem;
            font-weight: 700;
            line-height: 1;
            box-shadow: 0 1px 2px rgba(0,0,0,0.1);
            height: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        /* Modal body para tienda - tamaño correcto */
        .store-modal .modal-body {
            padding: 0;
            height: calc(455px - 48px); /* Altura correcta menos padding del modal */
            min-height: auto;
            overflow: visible; /* Sin scroll */
            display: flex;
            flex-direction: column;
            justify-content: center;
            margin-top: 0;
            box-sizing: border-box;
            font-family: "Euclid Circular A", sans-serif;
            font-weight: 300;
            line-height: 24px;
        }
        /* Optimización específica para modal de tienda - Diseño profesional */
        .store-modal .modal-title {
            margin: 0 0 0.5rem 0;
            font-size: 1.3rem;
            font-weight: 700;
            color: #1f2937;
            text-align: center;
            line-height: 1.3;
            width: 100%;
        }
        .store-modal .modal-subtitle {
            margin: 0 0 1rem 0;
            font-size: 0.95rem;
            color: #6b7280;
            font-weight: 500;
            text-align: center;
            line-height: 1.3;
            width: 100%;
        }
        .store-modal .delivery-options {
            display: flex;
            gap: 10px;
            margin: 0 0 1rem 0;
            justify-content: flex-start;
        }
        .store-modal .stores-carousel {
            margin: 0.5rem 0;
        }
        .store-modal .carousel-viewport {
            height: 150px;
            border: 1px solid #e5e7eb;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
        }
        .store-modal .store-card {
            min-height: 110px;
            padding: 1.25rem;
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            background: #ffffff;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            transition: all 0.2s ease;
        }
        .store-modal .store-card:hover {
            border-color: #10b981;
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.15);
            transform: translateY(-1px);
        }
        .store-modal .store-image {
            width: 95px;
            height: 95px;
            border: 2px solid #f3f4f6;
        }
        .store-modal .store-name {
            font-size: 0.95rem;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 0.25rem;
        }
        .store-modal .store-address {
            font-size: 0.75rem;
            color: #4b5563;
            margin-bottom: 0.2rem;
        }
        .store-modal .store-hours {
            font-size: 0.7rem;
            color: #6b7280;
            line-height: 1.4;
        }
        .store-modal .store-status {
            font-size: 0.7rem;
            font-weight: 600;
            padding: 0.2rem 0.6rem;
            border-radius: 12px;
            margin-bottom: 0.3rem;
            width: fit-content;
        }
        .store-modal .store-status.open {
            background: #dcfce7;
            color: #166534;
            border: 1px solid #bbf7d0;
        }
        .store-modal .store-status.closed {
            background: #fef2f2;
            color: #dc2626;
            border: 1px solid #fecaca;
        }
        .store-modal .carousel-controls {
            margin-top: 0.75rem;
            margin-bottom: 0.5rem;
        }
        .store-modal .carousel-prev,
        .store-modal .carousel-next {
            width: 40px;
            height: 40px;
            background: #ffffff;
            border: 1px solid #d1d5db;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            transition: all 0.2s ease;
        }
        .store-modal .carousel-prev:hover,
        .store-modal .carousel-next:hover {
            background: #f9fafb;
            border-color: #10b981;
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        .store-modal .pagination-bullet {
            width: 8px;
            height: 8px;
            background: #d1d5db;
            border-radius: 50%;
            transition: all 0.2s ease;
        }
        .store-modal .pagination-bullet.active {
            background: #10b981;
            transform: scale(1.2);
        }
        .store-modal .carousel-actions {
            margin-top: 0.5rem;
        }
        .store-modal .carousel-actions .btn {
            height: 40px;
            background: #6b7280;
            border-radius: 10px;
            font-weight: 600;
            font-size: 0.9rem;
            transition: all 0.2s ease;
        }
        .store-modal .carousel-actions .btn:hover {
            background: #4b5563;
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }
        /* Mejoras adicionales para elegancia del modal de tienda */
        .store-modal .delivery-option {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.7rem;
            padding: 0.9rem 1.2rem;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            background: #ffffff;
            color: #374151;
            font-weight: 600;
            font-size: 0.95rem;
            line-height: 1.3;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            flex: 0 0 calc(50% - 5px);
            box-shadow: 0 3px 6px rgba(0,0,0,0.08);
            height: 52px;
        }
        .store-modal .delivery-icon {
            width: 22px;
            height: 22px;
            fill: #10b981;
            transition: all 0.3s ease;
        }
        .store-modal .delivery-option:hover {
            border-color: #10b981;
            background: #f0fdf4;
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(16, 185, 129, 0.15);
        }
        .store-modal .delivery-option.active {
            border-color: #10b981 !important;
            background: #10b981 !important;
            color: white !important;
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.25);
            transform: translateY(-1px);
        }
        .store-modal .delivery-option.active .delivery-icon {
            fill: white !important;
        }
        .store-modal .free-badge {
            position: absolute;
            top: -6px;
            right: -6px;
            background: #10b981;
            color: white;
            font-size: 0.65rem;
            font-weight: 700;
            padding: 0.2rem 0.4rem;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(16, 185, 129, 0.3);
        }
        /* Animaciones suaves para todos los modales - optimizadas */
        .modal-content {
            animation: modalSlideIn 0.25s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .store-modal {
            animation: modalSlideIn 0.25s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .address-modal {
            animation: modalSlideIn 0.25s cubic-bezier(0.4, 0, 0.2, 1);
        }
        /* Animación de salida - optimizada */
        .modal-content.closing {
            animation: modalSlideOut 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .store-modal.closing {
            animation: modalSlideOut 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .address-modal.closing {
            animation: modalSlideOut 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        }
        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: scale(0.9) translateY(-30px);
            }
            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }
        @keyframes modalSlideOut {
            from {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
            to {
                opacity: 0;
                transform: scale(0.9) translateY(-30px);
            }
        }
        /* Animación del overlay - optimizada */
        .modal-overlay {
            animation: overlayFadeIn 0.25s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .modal-overlay.closing {
            animation: overlayFadeOut 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        }
        @keyframes overlayFadeIn {
            from {
                opacity: 0;
                backdrop-filter: blur(0px);
            }
            to {
                opacity: 1;
                backdrop-filter: blur(4px);
            }
        }
        @keyframes overlayFadeOut {
            from {
                opacity: 1;
                backdrop-filter: blur(4px);
            }
            to {
                opacity: 0;
                backdrop-filter: blur(0px);
            }
        }
        /* Mejora del overlay para el modal de tienda */
        .modal-overlay {
            background: rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(4px);
        }
        /* Estilos para el nuevo diseño del modal */
        .modal-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: #1f2937;
            text-align: center;
            margin: 0 0 0.5rem 0;
            line-height: 1.3;
            width: 100%;
        }
        .modal-subtitle {
            font-size: 0.95rem;
            font-weight: 500;
            color: #6b7280;
            text-align: center;
            margin: 0 0 1rem 0;
            line-height: 1.3;
            width: 100%;
        }
        /* Opciones de entrega */
        .delivery-options {
            display: flex;
            gap: 10px;
            margin: 0 0 1rem 0;
            justify-content: flex-start;
        }
        .delivery-option {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.7rem;
            padding: 0.9rem 1.2rem;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            background: #ffffff;
            color: #374151;
            font-weight: 600;
            font-size: 0.95rem;
            line-height: 1.3;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            flex: 0 0 calc(50% - 4px);
            box-shadow: 0 3px 6px rgba(0,0,0,0.08);
            height: 52px;
            animation: buttonSlideIn 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        @keyframes buttonSlideIn {
            from {
                opacity: 0;
                transform: translateY(10px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
        .delivery-option:hover {
            border-color: #10b981;
            background: #f0fdf4;
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(16, 185, 129, 0.1);
        }
        .delivery-option.active {
            border-color: #10b981 !important;
            background: #10b981 !important;
            color: white !important;
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.25);
            transform: translateY(-1px);
        }
        .delivery-icon {
            width: 22px;
            height: 22px;
            fill: #10b981;
            transition: all 0.3s ease;
        }
        .delivery-option.active .delivery-icon {
            fill: white !important;
        }
        .free-badge {
            position: absolute;
            top: -8px;
            right: -8px;
            background: #10b981;
            color: white;
            padding: 0.2rem 0.4rem;
            border-radius: 8px;
            font-size: 0.65rem;
            font-weight: 700;
            line-height: 1;
            box-shadow: 0 1px 2px rgba(0,0,0,0.1);
            height: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        /* Campo de dirección */
        .initial-address-field {
            margin: 0.5rem 0 0.8rem 0;
            display: flex;
            justify-content: center;
            width: 100%;
            position: relative;
            z-index: 10;
        }
        .initial-address-field input {
            width: 100%;
            max-width: 632px;
            height: 48px;
            padding: 0.7rem 1rem;
            border: 2px solid #d1d5db;
            border-radius: 10px;
            font-size: 0.95rem;
            transition: all 0.2s ease;
            background: #fff;
            display: inline-block;
            float: none;
            position: static;
            box-sizing: border-box;
        }
        .initial-address-field input:focus {
            outline: none;
            border-color: #10b981;
            box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
        }
        .address-input-container {
            margin: 0.3rem 0;
            width: 100%;
            max-width: 100%;
            position: relative;
            display: none; /* Oculto por defecto */
        }
        /* Mostrar contenedor de dirección solo cuando el modal de dirección esté expandido */
        .address-modal.expanded .address-input-container {
            display: block;
            animation: contentFadeIn 0.3s cubic-bezier(0.4, 0, 0.2, 1) 0.1s both;
        }
        .address-modal.expanded .map-container {
            animation: contentFadeIn 0.3s cubic-bezier(0.4, 0, 0.2, 1) 0.2s both;
        }
        .address-modal.expanded .continue-button-container {
            animation: contentFadeIn 0.3s cubic-bezier(0.4, 0, 0.2, 1) 0.3s both;
        }
        @keyframes contentFadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        .address-form {
            margin-bottom: 1.25rem;
        }
        .address-input-container .input-with-validation {
            position: relative;
            margin-bottom: 1rem;
        }
        .input-icon {
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 2;
        }
        /* Layout horizontal de campos de dirección */
        .campos-direccion {
            display: flex;
            gap: 8px;
            width: 100%;
            margin-bottom: 0.75rem;
            align-items: stretch;
        }
        /* Campo principal de dirección - mismo ancho que los botones de entrega */
        .campo-direccion-principal {
            flex: 0 0 calc(50% - 4px);
            min-width: 0;
        }
        /* Contenedor para los campos Numero y Depto - mismo ancho que el botón "Retiro en tienda" */
        .campos-secundarios {
            display: flex;
            gap: 8px;
            flex: 0 0 calc(50% - 4px);
            min-width: 0;
        }
        /* Campo de número - mitad del ancho del contenedor */
        .campo-numero {
            flex: 1;
            min-width: 0;
        }
        /* Campo de depto/casa/ofic - mitad del ancho del contenedor */
        .campo-depto {
            flex: 1;
            min-width: 0;
        }
        /* Estilos para todos los inputs de los campos */
        .campos-direccion input {
            width: 100%;
            padding: 0.6rem 0.75rem;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 0.85rem;
            transition: all 0.3s ease;
            background: white;
            color: #111827;
            height: 2.5rem;
            box-sizing: border-box;
        }
        .campos-direccion input:focus {
            outline: none;
            border-color: #10b981;
            box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
        }
        /* Estilos específicos para inputs en campos secundarios */
        .campos-secundarios input {
            width: 100%;
            padding: 0.6rem 0.75rem;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 0.85rem;
            transition: all 0.3s ease;
            background: white;
            color: #111827;
            height: 2.5rem;
            box-sizing: border-box;
        }
        .campos-secundarios input:focus {
            outline: none;
            border-color: #10b981;
            box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
        }
        /* Estilo específico para el input principal con validación */
        .campo-direccion-principal .input-with-validation {
            position: relative;
            width: 100%;
        }
        .campo-direccion-principal .input-with-validation input {
            padding-right: 2.5rem; /* Espacio para el icono de validación */
        }
        .campo-direccion-principal .input-icon {
            position: absolute;
            right: 0.75rem;
            top: 50%;
            transform: translateY(-50%);
            z-index: 2;
        }
        /* Responsive para móviles */
        @media (max-width: 768px) {
            .campos-direccion {
                flex-direction: column;
                gap: 8px;
            }
            .campo-direccion-principal {
                flex: 1;
                min-width: auto;
                max-width: none;
            }
            .campos-secundarios {
                flex: 1;
                min-width: auto;
            }
            .campo-numero,
            .campo-depto {
                flex: 1;
                min-width: auto;
            }
        }
        .region-info {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.8rem;
            margin-bottom: 0.75rem;
            margin-left: 0;
            margin-right: 0;
            color: #6b7280;
        }
        .region-info strong {
            color: #374151;
        }
        .address-input-container input {
            width: 100%;
            height: 48px;
            padding: 0.7rem 1rem;
            border: 2px solid #d1d5db;
            border-radius: 10px;
            font-size: 0.95rem;
            transition: all 0.3s ease;
            background: white;
            color: #111827;
            box-sizing: border-box;
        }
        .address-input-container input:focus {
            outline: none;
            border-color: #10b981;
            box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
        }
        .address-input-container input:valid {
            border-color: #10b981;
        }
        /* Estilos para el carrusel de tiendas */
        .stores-carousel {
            margin: 0.1rem 0;
            width: 100%;
            flex: 1;
            display: flex;
            flex-direction: column;
            animation: carouselSlideIn 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        @keyframes carouselSlideIn {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        .carousel-viewport {
            position: relative;
            overflow: hidden;
            margin-bottom: 0.1rem;
            width: 100%;
            height: 140px;
            border-radius: 8px;
            flex: 1;
        }
        .carousel-camera {
            display: flex;
            transition: transform 0.3s ease;
            width: 100%;
            height: 100%;
        }
        .carousel-content {
            display: flex;
            width: 100%;
            height: 100%;
        }
        .store-card {
            flex: 0 0 100%;
            width: 100%;
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            padding: 1rem;
            background: white;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 0;
            display: flex;
            align-items: center;
            gap: 1rem;
            min-height: 100px;
        }
        .store-card:hover {
            border-color: #d1d5db;
        }
        .store-card.selected {
            border-color: #10b981;
            background: #f0fdf4;
        }
        .store-card-content {
            display: flex;
            gap: 1rem;
            align-items: center;
        }
        .store-image {
            width: 90px;
            height: 90px;
            border-radius: 50%;
            object-fit: cover;
            flex-shrink: 0;
            background: #FFD700;
        }
        .store-info {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        .store-status {
            display: inline-block;
            font-size: 0.65rem;
            font-weight: 600;
            margin-bottom: 0.4rem;
            padding: 0.15rem 0.5rem;
            border-radius: 20px;
            background: #fce7f3;
            color: #dc2626;
            border: 1px solid #f9a8d4;
            width: fit-content;
        }
        .store-status.open {
            background: #dcfce7;
            color: #16a34a;
            border: 1px solid #bbf7d0;
            animation: pulse 2s infinite;
        }
        .store-status.closed {
            background: #fce7f3;
            color: #dc2626;
            border: 1px solid #f9a8d4;
        }
        @keyframes pulse {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: 0.7;
            }
        }
        .store-name {
            font-size: 0.85rem;
            font-weight: 700;
            color: #1f2937;
            margin: 0 0 0.3rem 0;
        }
        .store-address {
            font-size: 0.7rem;
            color: #374151;
            margin: 0 0 0.25rem 0;
            font-weight: 500;
        }
        .store-hours {
            font-size: 0.65rem;
            color: #374151;
            margin: 0;
            line-height: 1.4;
            display: block;
            font-weight: 500;
        }
        @media (min-width: 640px) {
            .store-hours {
                display: block;
            }
        }
        /* Controles del carrusel */
        .carousel-controls {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-top: 0.6rem;
            margin-bottom: 0.4rem;
            padding: 0 0.5rem;
        }
        .carousel-prev,
        .carousel-next {
            background: #f8f9fa;
            border: 1px solid #e5e7eb;
            font-size: 1rem;
            color: #666;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 8px;
            transition: all 0.3s ease;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 1px 2px rgba(0,0,0,0.05);
        }
        .carousel-prev:hover,
        .carousel-next:hover {
            background: #e9ecef;
            color: #059669;
            border-color: #059669;
            transform: translateY(-1px);
            box-shadow: 0 2px 6px rgba(0,0,0,0.15);
        }
        .carousel-pagination {
            display: flex;
            gap: 0.6rem;
            align-items: center;
        }
        .pagination-bullet {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: #d1d5db;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .pagination-bullet.active {
            background: #059669;
            width: 28px;
            border-radius: 6px;
            box-shadow: 0 2px 4px rgba(5, 150, 105, 0.3);
        }
        .carousel-actions {
            display: flex;
            justify-content: center;
            margin-top: 0.4rem;
        }
        .carousel-actions .btn {
            width: 100%;
            background: #6b7280;
            color: white;
            border: none;
            padding: 0.6rem 1rem;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            height: 36px;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            box-shadow: 0 1px 3px rgba(107, 114, 128, 0.2);
        }
        .carousel-actions .btn:hover {
            background: #4b5563;
            transform: translateY(-1px);
            box-shadow: 0 2px 4px rgba(107, 114, 128, 0.3);
        }
        .carousel-actions .btn:disabled {
            background: #D3D3D3;
            color: #808080;
            cursor: not-allowed;
            transform: none;
        }
        /* Responsive para el carrusel */
        @media (max-width: 768px) {
            .store-card {
                padding: 0.75rem;
            }
            .store-image {
                width: 60px;
                height: 60px;
            }
            .store-name {
                font-size: 0.75rem;
            }
            .store-address {
                font-size: 0.65rem;
            }
            .carousel-controls {
                gap: 0.5rem;
            }
            .carousel-prev,
            .carousel-next {
                font-size: 1.2rem;
                padding: 0.25rem;
            }
        }
        .modal-description {
            color: #666;
            margin-bottom: 2rem;
            line-height: 1.5;
        }
        .input-with-validation {
            position: relative;
        }
        .validation-icon {
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: #4CAF50;
            font-weight: bold;
            font-size: 1.2rem;
        }
        .form-help {
            display: block;
            margin-top: 0.5rem;
            color: #666;
            font-size: 0.8rem;
            font-style: italic;
        }
        /* Estilos para campos de dirección como en FREST */
        .address-fields {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        .address-fields .form-group {
            margin-bottom: 0;
        }
        .address-fields .form-group:first-child {
            grid-column: 1;
        }
        .address-fields .form-group:nth-child(2) {
            grid-column: 2;
        }
        .address-fields .form-group:nth-child(3) {
            grid-column: 3;
        }
        .address-fields label {
            font-size: 0.9rem;
            font-weight: 500;
            color: #333;
            margin-bottom: 0.5rem;
            display: block;
        }
        .address-fields input {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            background: white;
        }
        .address-fields input:focus {
            outline: none;
            border-color: #2E8B57;
            box-shadow: 0 0 0 3px rgba(46, 139, 87, 0.1);
        }
        .address-fields input:valid {
            border-color: #4CAF50;
        }
        /* Responsive para campos de dirección */
        @media (max-width: 768px) {
            .address-fields {
                grid-template-columns: 1fr;
                gap: 0.75rem;
            }
            .address-fields .form-group {
                grid-column: 1 !important;
            }
        }
        /* Estilos para el menú desplegable de sugerencias */
        .suggestions-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 1px solid #e5e7eb;
            border-top: none;
            border-radius: 0 0 8px 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            z-index: 9999;
            max-height: none;
            overflow: visible;
            margin-top: 4px;
        }
        /* Estilos específicos para el dropdown del campo inicial */
        #initial-address-suggestions {
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            max-width: 632px;
            margin-top: 4px;
            border: 1px solid #e5e7eb;
            border-radius: 6px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            background: white;
            max-height: none;
            overflow: visible;
            z-index: 1000;
        }
        .suggestions-list {
            padding: 0;
            margin: 0;
        }
        .suggestion-item {
            padding: 10px 16px;
            cursor: pointer;
            border-bottom: 1px solid #f3f4f6;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: background-color 0.2s ease;
            font-size: 0.85rem;
            color: #374151;
            line-height: 1.3;
        }
        .suggestion-item:hover {
            background-color: #f8fafc;
        }
        .suggestion-item:last-child {
            border-bottom: none;
        }
        .suggestion-item.active {
            background-color: #f0fdf4;
            color: #059669;
        }
        /* Estilos específicos para el dropdown del campo inicial */
        #initial-address-suggestions .suggestion-item {
            padding: 10px 16px;
            border-bottom: 1px solid #f3f4f6;
            font-size: 0.85rem;
            color: #374151;
            background: white;
            display: block;
            line-height: 1.3;
        }
        #initial-address-suggestions .suggestion-item:last-child {
            border-bottom: none;
        }
        .suggestion-icon {
            color: #2E8B57;
            font-size: 1.1rem;
            width: 20px;
            text-align: center;
        }
        .suggestion-content {
            flex: 1;
        }
        .suggestion-text {
            font-weight: 500;
            color: #374151;
            line-height: 1.4;
        }
        .suggestion-highlight {
            background-color: #fff3cd;
            padding: 1px 2px;
            border-radius: 2px;
        }
        /* Estilos para información de ubicación */
        .location-info {
            margin-top: 1rem;
            padding: 0.75rem 1rem;
            background-color: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #2E8B57;
        }
        .location-text {
            color: #666;
            font-size: 0.9rem;
        }
        .location-text strong {
            color: #2E8B57;
            font-weight: 600;
        }
        .location-context {
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
            text-align: center;
            color: #666;
        }
        .map-container {
            margin: 1rem 0;
            border-radius: 8px;
            overflow: hidden;
            height: 220px; /* Aumentado otro 5% desde 210px */
            border: 1px solid #e5e7eb;
            display: none; /* Oculto por defecto */
        }
        /* Mostrar mapa solo cuando el modal de dirección esté expandido */
        .address-modal.expanded .map-container {
            display: block;
        }
        .map {
            width: 100%;
            height: 100%;
            border-radius: 8px;
            overflow: hidden;
        }
        /* Mapa de respaldo */
        .map-fallback {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f8fafc;
            border-radius: 8px;
        }
        .map-placeholder {
            text-align: center;
            padding: 2rem;
        }
        /* Estilos específicos para Google Maps */
        .map-container .map {
            position: relative;
            overflow: hidden;
        }
        /* Estilos para marcadores personalizados de Leaflet */
        .custom-marker {
            background: transparent;
            border: none;
        }
        .marker-circle {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #2E8B57, #4CAF50);
            border: 3px solid #ffffff;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .marker-number {
            color: #ffffff;
            font-weight: bold;
            font-size: 16px;
            font-family: Arial, sans-serif;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }
        /* Efectos hover mejorados */
        .marker-circle:hover {
            transform: scale(1.15);
            box-shadow: 0 6px 20px rgba(46, 139, 87, 0.4);
            border-color: #FFD700;
        }
        /* Estilos para popups personalizados */
        .custom-popup .leaflet-popup-content-wrapper {
            background: #ffffff;
            border-radius: 12px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            border: 2px solid #2E8B57;
        }
        .custom-popup .leaflet-popup-content {
            margin: 15px;
            font-family: 'Montserrat', sans-serif;
        }
        .custom-popup .leaflet-popup-tip {
            background: #ffffff;
            border: 2px solid #2E8B57;
        }
        .map-instructions {
            background: #f8f9fa;
            padding: 1rem;
            text-align: center;
            color: #666;
            font-size: 0.9rem;
        }
        /* Contenedor del botón Continuar */
        .continue-button-container {
            display: flex;
            justify-content: center;
            margin-top: 2.19rem; /* Reducido otro 10% desde 2.43rem para subir el botón */
            margin-bottom: 1rem;
            width: 100%;
        }
        /* Botón Continuar con especificaciones exactas del inspector */
        .continue-btn {
            background-color: #297E36;
            border: none;
            border-radius: 10px;
            color: #FFFFFF;
            display: inline-block;
            font-family: "Euclid Circular A", sans-serif;
            font-weight: 600;
            line-height: 1.3;
            padding: 0.8rem 1.5rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.95rem;
            width: 100%;
            max-width: 632px;
            height: 50px; /* Aumentado un 5% desde 48px */
            box-sizing: border-box;
            box-shadow: 0 3px 6px rgba(41, 126, 54, 0.2);
        }
        .continue-btn:hover {
            background-color: #1f5a2a;
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(41, 126, 54, 0.3);
        }
        .continue-btn:active {
            transform: translateY(0);
            box-shadow: 0 2px 4px rgba(41, 126, 54, 0.3);
        }
        .modal-actions {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid #e9ecef;
            width: 100%;
        }
        @media (max-width: 768px) {
            .modal-content {
                width: 100%;
                margin: 0;
                border-radius: 0;
                max-height: 100vh;
            }
            .address-modal.expanded {
                width: 100%;
                height: 100vh;
                max-height: 100vh;
            }
            .modal-body {
                padding: 24px 16px 20px;
            }
            .address-modal.expanded .modal-body {
                height: calc(100vh - 40px);
            }
            .modal-title {
                font-size: 1.25rem;
                margin-bottom: 0.75rem;
            }
            .modal-subtitle {
                font-size: 0.875rem;
                margin-bottom: 1.25rem;
            }
            .delivery-option {
                font-size: 0.875rem;
                padding: 0.75rem;
            }
            .map-container {
                height: 250px;
            }
            .delivery-options {
                flex-direction: column;
                gap: 0.75rem;
                margin: 1.5rem auto;
            }
            .address-input-container,
            .stores-carousel {
                margin: 1.5rem auto;
            }
            .modal-actions {
                flex-direction: column;
            }
            .modal-actions .btn {
                width: 100%;
            }
            .continue-btn {
                width: 100%;
                height: 40px;
                padding: 12px 16px;
                font-size: 16px;
            }
        }
        .content-section {
            display: none !important;
            animation: fadeIn 0.3s ease-in-out;
            position: relative;
            width: 100%;
            height: 100%;
        }
        .content-section.active {
            display: block !important;
            opacity: 1;
            visibility: visible;
            position: relative;
            width: 100%;
            height: 100%;
        }
        /* Asegurar que la sección por defecto esté visible */
        #datos-personales.active {
            display: block !important;
            opacity: 1;
            visibility: visible;
        }
        #datos-personales:not(.active) {
            display: none !important;
        }
        /* Asegurar que el contenido principal sea visible */
        .account-content {
            display: flex !important;
            opacity: 1;
            visibility: visible;
            position: relative;
            grid-column: 2;
        }
        .profile-container {
            display: block !important;
            opacity: 1;
            visibility: visible;
        }
        /* Asegurar que las secciones se muestren dentro del contenido */
        .account-content .content-section {
            position: relative;
            width: 100%;
            height: auto;
            min-height: 400px;
        }
        .account-content .content-section.active {
            position: relative;
            width: 100%;
            height: auto;
            min-height: 400px;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        /* ===== ESTILOS PROFESIONALES PARA TODAS LAS SECCIONES ===== */
        /* Header de sección mejorado */
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 2rem;
            padding: 2rem 2.5rem 0 2.5rem;
            background: linear-gradient(135deg, #f8fffe 0%, #f0f8f5 100%);
            border-radius: 24px 24px 0 0;
        }
        .header-content h1 {
            font-size: 2rem;
            font-weight: 700;
            color: #2e8b57;
            margin: 0 0 0.5rem 0;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        .header-content h1 i {
            font-size: 1.5rem;
            color: #90ee90;
        }
        .section-description {
            color: #666;
            font-size: 1rem;
            margin: 0;
            line-height: 1.5;
        }
        .header-actions {
            display: flex;
            gap: 1rem;
            align-items: center;
        }
        /* ===== ESTILOS PARA HISTORIAL DE PEDIDOS ===== */
        .orders-container {
            padding: 0 2.5rem 2.5rem 2.5rem;
        }
        .orders-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        .stat-card {
            background: #fff;
            border-radius: 16px;
            padding: 1.5rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            border: 1px solid rgba(46, 139, 87, 0.1);
            display: flex;
            align-items: center;
            gap: 1rem;
            transition: all 0.3s ease;
        }
        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(0,0,0,0.12);
        }
        .stat-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            background: linear-gradient(135deg, #2e8b57, #90ee90);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.25rem;
        }
        .stat-info {
            flex: 1;
        }
        .stat-number {
            display: block;
            font-size: 1.75rem;
            font-weight: 700;
            color: #2e8b57;
            line-height: 1;
        }
        .stat-label {
            display: block;
            font-size: 0.875rem;
            color: #666;
            margin-top: 0.25rem;
        }
        .stat-change {
            display: block;
            font-size: 0.75rem;
            color: #999;
            margin-top: 0.25rem;
        }
        .stat-change.positive {
            color: #2e8b57;
            font-weight: 600;
        }
        /* Controles de pedidos */
        .orders-controls {
            background: #f8fffe;
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            border: 1px solid rgba(46, 139, 87, 0.1);
        }
        .filter-section h3 {
            font-size: 1rem;
            font-weight: 600;
            color: #2e8b57;
            margin: 0 0 1rem 0;
        }
        .filter-buttons {
            display: flex;
            gap: 0.75rem;
            flex-wrap: wrap;
        }
        .filter-btn {
            background: #fff;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 0.75rem 1rem;
            font-size: 0.875rem;
            font-weight: 500;
            color: #666;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .filter-btn:hover {
            border-color: #2e8b57;
            color: #2e8b57;
        }
        .filter-btn.active {
            background: #2e8b57;
            border-color: #2e8b57;
            color: white;
        }
        .search-section {
            display: flex;
            gap: 2rem;
            align-items: center;
            margin-top: 1.5rem;
            flex-wrap: wrap;
        }
        .search-box {
            position: relative;
            flex: 1;
            min-width: 300px;
        }
        .search-box i {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: #999;
        }
        .search-box input {
            width: 100%;
            padding: 0.75rem 1rem 0.75rem 2.5rem;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            font-size: 0.875rem;
        }
        .date-filter {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.875rem;
            color: #666;
        }
        .date-filter input {
            padding: 0.5rem;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            font-size: 0.875rem;
        }
        /* Tarjetas de pedidos mejoradas */
        .orders-list {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        .order-card {
            background: #fff;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            border: 1px solid rgba(46, 139, 87, 0.1);
            overflow: hidden;
            transition: all 0.3s ease;
        }
        .order-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(0,0,0,0.12);
        }
        .order-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            padding: 1.5rem;
            background: linear-gradient(135deg, #f8fffe 0%, #f0f8f5 100%);
            border-bottom: 1px solid rgba(46, 139, 87, 0.1);
        }
        .order-number h3 {
            font-size: 1.25rem;
            font-weight: 700;
            color: #2e8b57;
            margin: 0 0 0.25rem 0;
        }
        .order-date {
            font-size: 0.875rem;
            color: #666;
        }
        .order-tracking {
            margin-top: 0.5rem;
        }
        .tracking-number {
            font-size: 0.75rem;
            color: #999;
            font-family: monospace;
        }
        .order-status {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1rem;
            border-radius: 8px;
            font-weight: 600;
        }
        .order-status.delivered {
            background: #d4edda;
            color: #155724;
        }
        .order-status.shipped {
            background: #cce5ff;
            color: #004085;
        }
        .order-status.pending {
            background: #fff3cd;
            color: #856404;
        }
        .status-icon {
            font-size: 1.25rem;
        }
        .status-text {
            display: flex;
            flex-direction: column;
        }
        .status-label {
            font-size: 0.875rem;
        }
        .status-date {
            font-size: 0.75rem;
            opacity: 0.8;
        }
        /* Items de pedido */
        .order-items {
            padding: 1.5rem;
        }
        .order-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem 0;
            border-bottom: 1px solid #f0f0f0;
        }
        .order-item:last-child {
            border-bottom: none;
        }
        .item-image {
            position: relative;
            width: 60px;
            height: 60px;
            border-radius: 8px;
            overflow: hidden;
            background: #f8f8f8;
        }
        .item-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .item-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #2e8b57;
            color: white;
            font-size: 0.625rem;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-weight: 600;
        }
        .item-details {
            flex: 1;
        }
        .item-details h4 {
            font-size: 1rem;
            font-weight: 600;
            color: #333;
            margin: 0 0 0.25rem 0;
        }
        .item-meta {
            display: flex;
            gap: 1rem;
            font-size: 0.875rem;
            color: #666;
        }
        .item-price {
            text-align: right;
        }
        .price {
            display: block;
            font-size: 1rem;
            font-weight: 700;
            color: #2e8b57;
        }
        .price-unit {
            display: block;
            font-size: 0.75rem;
            color: #999;
        }
        /* Footer de pedido */
        .order-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem;
            background: #f8fffe;
            border-top: 1px solid rgba(46, 139, 87, 0.1);
        }
        .order-summary {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        .summary-row {
            display: flex;
            justify-content: space-between;
            font-size: 0.875rem;
        }
        .summary-row.total {
            font-weight: 700;
            font-size: 1rem;
            color: #2e8b57;
            border-top: 1px solid #e0e0e0;
            padding-top: 0.5rem;
            margin-top: 0.5rem;
        }
        .summary-row .free {
            color: #2e8b57;
            font-weight: 600;
        }
        .order-actions {
            display: flex;
            gap: 0.75rem;
        }
        .btn {
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            font-size: 0.875rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            text-decoration: none;
            border: none;
        }
        .btn-outline {
            background: transparent;
            border: 1px solid #2e8b57;
            color: #2e8b57;
        }
        .btn-outline:hover {
            background: #2e8b57;
            color: white;
        }
        .btn-primary {
            background: #2e8b57;
            color: white;
            border: 1px solid #2e8b57;
        }
        .btn-primary:hover {
            background: #228b22;
            border-color: #228b22;
        }
        /* ===== ESTILOS PARA DIRECCIONES ===== */
        .addresses-container {
            padding: 0 2.5rem 2.5rem 2.5rem;
        }
        .addresses-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: #f8fffe;
            border-radius: 16px;
            border: 1px solid rgba(46, 139, 87, 0.1);
        }
        .header-section h3 {
            font-size: 1.25rem;
            font-weight: 600;
            color: #2e8b57;
            margin: 0 0 0.5rem 0;
        }
        .header-section p {
            color: #666;
            font-size: 0.875rem;
            margin: 0;
        }
        .address-search-section {
            display: flex;
            gap: 1.5rem;
            align-items: center;
            margin-bottom: 2rem;
            padding: 1rem 1.5rem;
            background: #fff;
            border-radius: 12px;
            border: 1px solid #e0e0e0;
        }
        .filter-select {
            padding: 0.75rem 1rem;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            font-size: 0.875rem;
            background: #fff;
            min-width: 200px;
        }
        .addresses-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 1.5rem;
        }
        .address-card {
            background: #fff;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            border: 1px solid rgba(46, 139, 87, 0.1);
            overflow: hidden;
            transition: all 0.3s ease;
        }
        .address-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(0,0,0,0.12);
        }
        .address-card.default-address {
            border: 2px solid #2e8b57;
            box-shadow: 0 4px 20px rgba(46, 139, 87, 0.15);
        }
        .address-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            padding: 1.5rem;
            background: linear-gradient(135deg, #f8fffe 0%, #f0f8f5 100%);
            border-bottom: 1px solid rgba(46, 139, 87, 0.1);
        }
        .title-content {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        .title-content h3 {
            font-size: 1.125rem;
            font-weight: 600;
            color: #2e8b57;
            margin: 0;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .default-badge {
            background: #2e8b57;
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }
        .address-type {
            margin-top: 0.5rem;
        }
        .type-badge {
            padding: 0.25rem 0.5rem;
            border-radius: 6px;
            font-size: 0.75rem;
            font-weight: 500;
        }
        .type-badge.home {
            background: #e3f2fd;
            color: #1976d2;
        }
        .address-actions {
            display: flex;
            gap: 0.5rem;
        }
        .btn-icon {
            width: 36px;
            height: 36px;
            border-radius: 8px;
            border: 1px solid #e0e0e0;
            background: #fff;
            color: #666;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .btn-icon:hover {
            border-color: #2e8b57;
            color: #2e8b57;
        }
        .btn-icon.danger:hover {
            border-color: #dc3545;
            color: #dc3545;
        }
        .address-content {
            padding: 1.5rem;
        }
        .contact-info {
            display: flex;
            gap: 2rem;
            margin-bottom: 1.5rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid #f0f0f0;
        }
        .contact-name, .contact-phone {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.875rem;
            color: #666;
        }
        .contact-name i, .contact-phone i {
            color: #2e8b57;
            width: 16px;
        }
        .address-info {
            margin-bottom: 1.5rem;
        }
        .address-line {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 0.5rem;
            font-size: 0.875rem;
            color: #333;
        }
        .address-line i {
            color: #2e8b57;
            width: 16px;
            text-align: center;
        }
        .address-meta {
            display: flex;
            gap: 2rem;
            font-size: 0.75rem;
            color: #999;
        }
        .meta-item {
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
        }
        .meta-label {
            font-weight: 500;
        }
        .address-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 1.5rem;
            background: #f8fffe;
            border-top: 1px solid rgba(46, 139, 87, 0.1);
        }
        .delivery-info {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.875rem;
            color: #2e8b57;
            font-weight: 500;
        }
        .address-actions-footer {
            display: flex;
            gap: 0.75rem;
        }
        .btn-sm {
            padding: 0.5rem 1rem;
            font-size: 0.75rem;
        }
        /* ===== ESTILOS PARA MEDIOS DE PAGO ===== */
        .payment-methods-container {
            padding: 0 2.5rem 2.5rem 2.5rem;
        }
        .payment-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: #f8fffe;
            border-radius: 16px;
            border: 1px solid rgba(46, 139, 87, 0.1);
        }
        .security-info {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.875rem;
            color: #2e8b57;
        }
        .payment-methods-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 1.5rem;
        }
        .payment-card {
            background: #fff;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            border: 1px solid rgba(46, 139, 87, 0.1);
            overflow: hidden;
            transition: all 0.3s ease;
        }
        .payment-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(0,0,0,0.12);
        }
        .payment-card.default-payment {
            border: 2px solid #2e8b57;
            box-shadow: 0 4px 20px rgba(46, 139, 87, 0.15);
        }
        .payment-header-card {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem;
            background: linear-gradient(135deg, #f8fffe 0%, #f0f8f5 100%);
            border-bottom: 1px solid rgba(46, 139, 87, 0.1);
        }
        .card-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        .card-type {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 1.125rem;
            font-weight: 600;
            color: #2e8b57;
        }
        .card-details {
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
        }
        .card-number {
            font-size: 1rem;
            font-weight: 600;
            color: #333;
            font-family: monospace;
        }
        .card-expiry {
            font-size: 0.875rem;
            color: #666;
        }
        .card-actions {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        .card-holder {
            padding: 1rem 1.5rem;
            font-size: 0.875rem;
            color: #666;
            border-top: 1px solid #f0f0f0;
        }
        /* ===== ESTILOS PARA RECOMENDACIONES ===== */
        .recommendations-container {
            padding: 0 2.5rem 2.5rem 2.5rem;
        }
        .recommendation-filters {
            display: flex;
            gap: 0.75rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }
        .recommendation-categories {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }
        .category-section h3 {
            font-size: 1.25rem;
            font-weight: 600;
            color: #2e8b57;
            margin: 0 0 1rem 0;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
        }
        .product-card {
            background: #fff;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            border: 1px solid rgba(46, 139, 87, 0.1);
            overflow: hidden;
            transition: all 0.3s ease;
        }
        .product-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(0,0,0,0.12);
        }
        .product-image {
            width: 100%;
            height: 150px;
            object-fit: cover;
            background: #f8f8f8;
        }
        .product-info {
            padding: 1.5rem;
        }
        .product-info h4 {
            font-size: 1rem;
            font-weight: 600;
            color: #333;
            margin: 0 0 0.5rem 0;
        }
        .product-price {
            font-size: 1.125rem;
            font-weight: 700;
            color: #2e8b57;
            margin: 0 0 0.75rem 0;
        }
        .product-rating {
            display: flex;
            align-items: center;
            gap: 0.25rem;
            margin-bottom: 1rem;
        }
        .product-rating i {
            color: #ffc107;
            font-size: 0.875rem;
        }
        .product-rating span {
            font-size: 0.875rem;
            color: #666;
            margin-left: 0.5rem;
        }
        .product-badge {
            position: absolute;
            top: 0.75rem;
            right: 0.75rem;
            background: #2e8b57;
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
        }
        .product-badge.new {
            background: #ff6b35;
        }
        /* ===== ESTILOS PARA HUERTOHOGAR CLUB ===== */
        .loyalty-container {
            padding: 0 2.5rem 2.5rem 2.5rem;
        }
        .loyalty-status {
            margin-bottom: 2rem;
        }
        .status-card {
            background: linear-gradient(135deg, #2e8b57, #90ee90);
            color: white;
            border-radius: 16px;
            padding: 2rem;
            text-align: center;
            box-shadow: 0 8px 30px rgba(46, 139, 87, 0.3);
        }
        .status-card h3 {
            font-size: 1.5rem;
            font-weight: 700;
            margin: 0 0 1rem 0;
        }
        .status-info {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 1.5rem;
        }
        .status-level {
            font-size: 1.25rem;
            font-weight: 600;
        }
        .status-points {
            font-size: 1.125rem;
            opacity: 0.9;
        }
        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255,255,255,0.3);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 1rem;
        }
        .progress-fill {
            height: 100%;
            background: white;
            border-radius: 4px;
            transition: width 0.3s ease;
        }
        .benefits-section h3 {
            font-size: 1.25rem;
            font-weight: 600;
            color: #2e8b57;
            margin: 0 0 1.5rem 0;
        }
        .benefits-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
        }
        .benefit-card {
            background: #fff;
            border-radius: 16px;
            padding: 1.5rem;
            text-align: center;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            border: 1px solid rgba(46, 139, 87, 0.1);
            transition: all 0.3s ease;
        }
        .benefit-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(0,0,0,0.12);
        }
        .benefit-card i {
            font-size: 2rem;
            color: #2e8b57;
            margin-bottom: 1rem;
        }
        .benefit-card h4 {
            font-size: 1.125rem;
            font-weight: 600;
            color: #333;
            margin: 0 0 0.5rem 0;
        }
        .benefit-card p {
            font-size: 0.875rem;
            color: #666;
            margin: 0;
        }
        /* ===== ESTILOS PARA MI IMPACTO ===== */
        .impact-container {
            padding: 0 2.5rem 2.5rem 2.5rem;
        }
        .impact-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        .impact-details {
            background: #f8fffe;
            border-radius: 16px;
            padding: 2rem;
            border: 1px solid rgba(46, 139, 87, 0.1);
        }
        .impact-details h3 {
            font-size: 1.25rem;
            font-weight: 600;
            color: #2e8b57;
            margin: 0 0 1.5rem 0;
        }
        .contribution-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        .contribution-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            background: #fff;
            border-radius: 12px;
            border: 1px solid rgba(46, 139, 87, 0.1);
        }
        .contribution-item i {
            font-size: 1.5rem;
            color: #2e8b57;
        }
        .contribution-item h4 {
            font-size: 1rem;
            font-weight: 600;
            color: #333;
            margin: 0 0 0.25rem 0;
        }
        .contribution-item p {
            font-size: 0.875rem;
            color: #666;
            margin: 0;
        }
        /* ===== ESTILOS PARA CONFIGURACIÓN ===== */
        .settings-container {
            padding: 0 2.5rem 2.5rem 2.5rem;
        }
        .settings-section {
            background: #fff;
            border-radius: 16px;
            padding: 2rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            border: 1px solid rgba(46, 139, 87, 0.1);
        }
        .settings-section h3 {
            font-size: 1.25rem;
            font-weight: 600;
            color: #2e8b57;
            margin: 0 0 1.5rem 0;
        }
        .setting-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem 0;
            border-bottom: 1px solid #f0f0f0;
        }
        .setting-item:last-child {
            border-bottom: none;
        }
        .setting-info {
            flex: 1;
        }
        .setting-info h4 {
            font-size: 1rem;
            font-weight: 600;
            color: #333;
            margin: 0 0 0.25rem 0;
        }
        .setting-info p {
            font-size: 0.875rem;
            color: #666;
            margin: 0;
        }
        .switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .slider {
            background-color: #2e8b57;
        }
        input:checked + .slider:before {
            transform: translateX(26px);
        }
        .section-header {
            margin-bottom: 2rem;
        }
        /* ===== ESTILOS PARA ESTADOS VACÍOS ===== */
        .empty-state {
            text-align: center;
            padding: 6rem 3rem;
            background: #fff;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.08);
            border: 1px solid rgba(46, 139, 87, 0.1);
            margin: 2rem 0;
            position: relative;
            overflow: hidden;
        }
        .empty-state::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #2e8b57, #90ee90);
        }
        .empty-icon {
            width: 100px;
            height: 100px;
            margin: 0 auto 2.5rem;
            background: linear-gradient(135deg, #2e8b57 0%, #90ee90 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2.5rem;
            box-shadow: 0 8px 24px rgba(46, 139, 87, 0.3);
            position: relative;
        }
        .empty-icon::after {
            content: '';
            position: absolute;
            top: -8px;
            left: -8px;
            right: -8px;
            bottom: -8px;
            border: 2px solid rgba(46, 139, 87, 0.2);
            border-radius: 50%;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% {
                transform: scale(1);
                opacity: 1;
            }
            100% {
                transform: scale(1.1);
                opacity: 0;
            }
        }
        .empty-state h3 {
            font-size: 1.75rem;
            font-weight: 700;
            color: #2e8b57;
            margin: 0 0 1rem 0;
            letter-spacing: -0.025em;
        }
        .empty-state p {
            font-size: 1.125rem;
            color: #6b7280;
            margin: 0 0 3rem 0;
            line-height: 1.6;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
        }
        .empty-actions {
            display: flex;
            justify-content: center;
            gap: 1rem;
        }
        .empty-actions .btn {
            padding: 1rem 2rem;
            font-size: 1rem;
            font-weight: 600;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(46, 139, 87, 0.3);
            transition: all 0.3s ease;
        }
        .empty-actions .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(46, 139, 87, 0.4);
        }
        /* ===== ESTILOS PARA MODAL DE DIRECCIONES ===== */
        .modal {
            display: none;
            position: fixed;
            z-index: 9999;
            left: 0;
            top: 0;
            width: 100%;
            height: 100vh;
            background-color: rgba(0,0,0,0.8);
            backdrop-filter: blur(8px);
            padding: 1rem;
            box-sizing: border-box;
            overflow: hidden;
        }
        .modal-content {
            background-color: #fff;
            margin: 0 auto;
            padding: 0;
            border-radius: 16px;
            width: 100%;
            max-width: 800px;
            height: calc(100vh - 2rem);
            max-height: 90vh;
            box-shadow: 0 25px 50px rgba(0,0,0,0.15);
            animation: modalSlideIn 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            z-index: 10000;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem 2rem;
            border-bottom: 1px solid #eee;
            background: linear-gradient(135deg, #f8fffe 0%, #f0f8f5 100%);
            border-radius: 16px 16px 0 0;
            flex-shrink: 0;
            min-height: 70px;
        }
        .modal-header h2 {
            margin: 0;
            color: #2e8b57;
            font-size: 1.5rem;
            font-weight: 700;
        }
        .close-modal {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }
        .close-modal:hover {
            background: #f0f0f0;
            color: #333;
        }
        .address-form {
            padding: 2rem;
            flex: 1;
            background: #fff;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        .form-group {
            margin-bottom: 0;
        }
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #333;
            font-weight: 600;
            font-size: 0.875rem;
        }
        .form-group input,
        .form-group select {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: #fff;
        }
        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: #2e8b57;
            box-shadow: 0 0 0 3px rgba(46, 139, 87, 0.1);
        }
        /* Altura específica para input de teléfono */
        .form-group input[type="tel"] {
            height: 55.2px;
            padding: 0.75rem;
            font-size: 1rem;
        }
        .checkbox-label {
            display: flex;
            align-items: center;
            cursor: pointer;
            font-size: 0.875rem;
        }
        .checkbox-label input[type="checkbox"] {
            width: auto;
            margin-right: 0.5rem;
        }
        .form-actions {
            display: flex;
            justify-content: flex-end;
            gap: 1rem;
            margin-top: 1rem;
            padding: 1.5rem 0;
            border-top: 1px solid #f3f4f6;
            background: #fafafa;
            margin-left: -2rem;
            margin-right: -2rem;
            padding-left: 2rem;
            padding-right: 2rem;
            flex-shrink: 0;
        }
        .form-actions .btn {
            padding: 0.75rem 1.5rem;
            font-size: 1rem;
            font-weight: 600;
            border-radius: 8px;
            min-width: 120px;
        }
        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: scale(0.9) translateY(-20px);
            }
            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }
        /* El modal permite scroll natural de la página */
        /* El estado vacío se oculta via JavaScript, no CSS */
        /* ===== ESTILOS PARA MODAL DE MÉTODOS DE PAGO ===== */
        .payment-form {
            padding: 2rem;
            flex: 1;
            background: #fff;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        .payment-type-selection {
            margin-bottom: 1rem;
        }
        .payment-type-selection h3 {
            font-size: 1.125rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 1rem;
        }
        .payment-types {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        .payment-type-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 1.5rem 1rem;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            background: #fff;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }
        .payment-type-option:hover {
            border-color: #2e8b57;
            background: #f0f8f5;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(46, 139, 87, 0.15);
        }
        .payment-type-option.active {
            border-color: #2e8b57;
            background: #2e8b57;
            color: white;
            box-shadow: 0 4px 12px rgba(46, 139, 87, 0.25);
        }
        .payment-type-option i {
            font-size: 2rem;
            margin-bottom: 0.5rem;
            color: #2e8b57;
        }
        .payment-type-option.active i {
            color: white;
        }
        .payment-type-option span {
            font-weight: 600;
            font-size: 0.875rem;
        }
        .payment-form-section {
            display: none;
            animation: fadeIn 0.3s ease-in-out;
        }
        .payment-form-section.active {
            display: block;
        }
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        /* Responsive para móviles */
        @media (max-width: 768px) {
            .modal {
                padding: 0.5rem;
            }
            .modal-content {
                height: calc(100vh - 1rem);
                max-height: 100vh;
                border-radius: 12px;
            }
            .modal-header {
                padding: 1rem 1.5rem;
                min-height: 60px;
            }
            .modal-header h2 {
                font-size: 1.25rem;
            }
            .address-form {
                padding: 1.5rem;
                gap: 0.75rem;
            }
            .form-row {
                grid-template-columns: 1fr;
                gap: 0.75rem;
            }
            .form-group input,
            .form-group select {
                padding: 0.75rem;
                font-size: 1rem;
            }
            .form-actions {
                flex-direction: column;
                gap: 0.75rem;
                margin-left: -1.5rem;
                margin-right: -1.5rem;
                padding-left: 1.5rem;
                padding-right: 1.5rem;
                padding-top: 1rem;
                padding-bottom: 1rem;
            }
            .form-actions .btn {
                width: 100%;
                min-width: auto;
                padding: 0.875rem 1rem;
            }
            .payment-types {
                grid-template-columns: 1fr;
                gap: 0.75rem;
            }
            .payment-type-option {
                padding: 1rem;
            }
            .payment-type-option i {
                font-size: 1.5rem;
            }
        }
        /* Responsive para pantallas muy pequeñas */
        @media (max-width: 480px) {
            .modal {
                padding: 0.25rem;
            }
            .modal-content {
                height: calc(100vh - 0.5rem);
                border-radius: 8px;
            }
            .modal-header {
                padding: 0.75rem 1rem;
                min-height: 50px;
            }
            .modal-header h2 {
                font-size: 1.125rem;
            }
            .address-form {
                padding: 1rem;
                gap: 0.5rem;
            }
            .form-actions {
                margin-left: -1rem;
                margin-right: -1rem;
                padding-left: 1rem;
                padding-right: 1rem;
            }
        }
        .section-header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            color: #2E8B57;
            margin: 0 0 0.5rem 0;
            font-family: 'Playfair Display', serif;
        }
        .section-header p {
            font-size: 1.1rem;
            color: #666;
            margin: 0;
        }
        .account-cards {
            display: grid;
            gap: 2rem;
        }
        .card {
            background: #fff;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            padding: 2rem;
            border: 1px solid #e9ecef;
            transition: all 0.3s ease;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }
        .card h3 {
            font-size: 1.5rem;
            font-weight: 600;
            color: #2E8B57;
            margin: 0 0 1.5rem 0;
            font-family: 'Playfair Display', serif;
        }
        /* Formularios profesionales */
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }
        .form-group {
            margin-bottom: 2rem;
            position: relative;
        }
        .form-group label {
            display: block;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 0.75rem;
            font-size: 0.95rem;
            letter-spacing: 0.025em;
        }
        .form-group input,
        .form-group select {
            width: 100%;
            padding: 1rem 1.25rem;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            font-size: 1rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            background: #fff;
            color: #1e293b;
            font-family: 'Montserrat', sans-serif;
        }
        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: #2E8B57;
            box-shadow: 0 0 0 4px rgba(46, 139, 87, 0.1);
            transform: translateY(-1px);
        }
        .form-group input:hover,
        .form-group select:hover {
            border-color: #cbd5e1;
        }
        /* Preferencias de alimentación profesionales */
        .diet-section {
            background: #f8fffe;
            border-radius: 20px;
            padding: 2.5rem;
            margin: 2rem 0;
            border: 1px solid rgba(46, 139, 87, 0.1);
        }
        .diet-section h3 {
            color: #1e293b;
            margin-bottom: 1rem;
            font-size: 1.4rem;
            font-weight: 600;
            font-family: 'Playfair Display', serif;
        }
        .diet-subtitle {
            color: #64748b;
            margin-bottom: 2rem;
            font-size: 0.95rem;
        }
        .diet-tags {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }
        .diet-tag {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 1rem 1.25rem;
            border: 2px solid #e2e8f0;
            border-radius: 16px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            background: #fff;
            position: relative;
            overflow: hidden;
        }
        .diet-tag::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(46, 139, 87, 0.05), transparent);
            transition: left 0.5s;
        }
        .diet-tag:hover::before {
            left: 100%;
        }
        .diet-tag:hover {
            border-color: #2E8B57;
            background: linear-gradient(135deg, rgba(46, 139, 87, 0.05), rgba(76, 175, 80, 0.03));
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(46, 139, 87, 0.15);
        }
        .diet-tag input[type="checkbox"] {
            margin: 0;
            width: 18px;
            height: 18px;
            accent-color: #2E8B57;
        }
        .diet-tag.checked {
            border-color: #2E8B57;
            background: linear-gradient(135deg, rgba(46, 139, 87, 0.1), rgba(76, 175, 80, 0.05));
            color: #2E8B57;
        }
        .tag-text {
            font-weight: 500;
            color: #1e293b;
            transition: color 0.3s ease;
        }
        .diet-tag.checked .tag-text {
            color: #2E8B57;
            font-weight: 600;
        }
        .preferences-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }
        .preference-item {
            margin-bottom: 0.5rem;
        }
        .preference-label {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 1rem;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: #fafafa;
        }
        .preference-label:hover {
            border-color: #2E8B57;
            background: #f8f9fa;
        }
        .preference-label input[type="checkbox"] {
            display: none;
        }
        .checkmark {
            width: 20px;
            height: 20px;
            border: 2px solid #ddd;
            border-radius: 4px;
            position: relative;
            transition: all 0.3s ease;
        }
        .preference-label input[type="checkbox"]:checked + .checkmark {
            background: #2E8B57;
            border-color: #2E8B57;
        }
        .preference-label input[type="checkbox"]:checked + .checkmark::after {
            content: '✓';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-weight: bold;
            font-size: 12px;
        }
        .preference-text {
            font-weight: 500;
            color: #333;
        }
        /* Estilos para la sección de saldo */
        .balance-display {
            text-align: center;
            margin: 2rem 0;
        }
        .balance-amount {
            font-size: 3rem;
            font-weight: 700;
            color: #2E8B57;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }
        .balance-amount.promotional {
            color: #FF6B35;
        }
        .currency {
            font-size: 2rem;
            opacity: 0.8;
        }
        .amount {
            font-size: 3.5rem;
        }
        .balance-description {
            color: #666;
            font-size: 1rem;
            margin: 0;
        }
        .balance-actions {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 2rem;
        }
        .btn-outline {
            background: transparent;
            border: 2px solid #2E8B57;
            color: #2E8B57;
            padding: 0.75rem 1.5rem;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .btn-outline:hover {
            background: #2E8B57;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(46, 139, 87, 0.3);
        }
        /* Estados vacíos */
        .empty-state {
            text-align: center;
            padding: 4rem 2rem;
            background: #fff;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        .empty-icon {
            font-size: 4rem;
            color: #2E8B57;
            margin-bottom: 1.5rem;
            opacity: 0.7;
        }
        .empty-state h3 {
            font-size: 1.8rem;
            font-weight: 600;
            color: #333;
            margin: 0 0 1rem 0;
        }
        .empty-state p {
            font-size: 1.1rem;
            color: #666;
            margin: 0 0 2rem 0;
            line-height: 1.6;
        }
        /* Responsive */
        @media (max-width: 768px) {
            .account-layout {
                grid-template-columns: 1fr;
                gap: 1rem;
                padding: 0 15px;
            }
            .account-sidebar {
                position: static;
                order: 2;
            }
            .account-content {
                order: 1;
            }
            .form-row {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            .preferences-grid {
                grid-template-columns: 1fr;
            }
            .section-header h1 {
                font-size: 2rem;
            }
            .nav-item {
                padding: 0.75rem 1rem;
            }
        }
        /* ===== ESTILOS PARA RECOMENDACIONES ===== */
        .recommendation-filters {
            background: #fff;
            border-radius: 16px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            border: 1px solid rgba(46, 139, 87, 0.1);
        }
        .filters-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        .filters-header h3 {
            margin: 0;
            color: #2e8b57;
            font-size: 1.25rem;
            font-weight: 600;
        }
        .filter-count {
            background: #f0f8f5;
            color: #2e8b57;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.875rem;
            font-weight: 500;
        }
        .filter-buttons {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }
        .filter-btn {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            border: 2px solid #e5e7eb;
            background: #fff;
            border-radius: 12px;
            color: #6b7280;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .filter-btn:hover {
            border-color: #2e8b57;
            color: #2e8b57;
            background: #f0f8f5;
        }
        .filter-btn.active {
            background: #2e8b57;
            border-color: #2e8b57;
            color: white;
        }
        .filter-btn i {
            font-size: 1rem;
        }
        .profile-progress {
            background: #f8fffe;
            border-radius: 16px;
            padding: 2rem;
            margin: 2rem 0;
            border: 1px solid rgba(46, 139, 87, 0.1);
        }
        .profile-progress h4 {
            color: #2e8b57;
            margin-bottom: 1.5rem;
            font-size: 1.125rem;
            font-weight: 600;
        }
        .progress-steps {
            display: flex;
            justify-content: center;
            gap: 2rem;
            flex-wrap: wrap;
        }
        .step {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
            opacity: 0.5;
        }
        .step.completed {
            opacity: 1;
        }
        .step i {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
            background: #e5e7eb;
            color: #6b7280;
        }
        .step.completed i {
            background: #2e8b57;
            color: white;
        }
        .step span {
            font-size: 0.875rem;
            font-weight: 500;
            color: #6b7280;
        }
        .step.completed span {
            color: #2e8b57;
        }
        /* ===== ESTILOS PARA HUERTOHOGAR CLUB ===== */
        .loyalty-container {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }
        .status-card {
            background: linear-gradient(135deg, #2e8b57 0%, #90ee90 100%);
            border-radius: 20px;
            padding: 2rem;
            color: white;
            position: relative;
            overflow: hidden;
        }
        .status-card::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 100%;
            height: 100%;
            background: rgba(255,255,255,0.1);
            border-radius: 50%;
            z-index: 1;
        }
        .status-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            position: relative;
            z-index: 2;
        }
        .status-badge {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background: rgba(255,255,255,0.2);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-weight: 600;
        }
        .status-points {
            text-align: right;
        }
        .points-number {
            font-size: 2rem;
            font-weight: 700;
            display: block;
        }
        .points-label {
            font-size: 0.875rem;
            opacity: 0.9;
        }
        .progress-section {
            position: relative;
            z-index: 2;
        }
        .progress-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
            font-size: 0.875rem;
        }
        .progress-bar {
            height: 8px;
            background: rgba(255,255,255,0.3);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 0.5rem;
        }
        .progress-fill {
            height: 100%;
            background: white;
            border-radius: 4px;
            transition: width 0.3s ease;
        }
        .progress-text {
            font-size: 0.875rem;
            opacity: 0.9;
            margin: 0;
        }
        .status-actions {
            margin-top: 1.5rem;
            position: relative;
            z-index: 2;
        }
        .section-title {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        .section-title h3 {
            margin: 0;
            color: #2e8b57;
            font-size: 1.25rem;
            font-weight: 600;
        }
        .benefits-count, .contribution-count {
            background: #f0f8f5;
            color: #2e8b57;
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 500;
        }
        .benefits-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }
        .benefit-card {
            background: #fff;
            border-radius: 16px;
            padding: 1.5rem;
            border: 2px solid #e5e7eb;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        .benefit-card.active {
            border-color: #2e8b57;
            background: #f8fffe;
        }
        .benefit-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(46, 139, 87, 0.15);
        }
        .benefit-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            background: #f0f8f5;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #2e8b57;
            font-size: 1.5rem;
        }
        .benefit-content h4 {
            margin: 0 0 0.25rem 0;
            color: #333;
            font-size: 1rem;
            font-weight: 600;
        }
        .benefit-content p {
            margin: 0 0 0.5rem 0;
            color: #6b7280;
            font-size: 0.875rem;
        }
        .benefit-status {
            background: #2e8b57;
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 500;
        }
        .levels-section {
            background: #fff;
            border-radius: 16px;
            padding: 2rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            border: 1px solid rgba(46, 139, 87, 0.1);
        }
        .levels-section h3 {
            margin: 0 0 1.5rem 0;
            color: #2e8b57;
            font-size: 1.25rem;
            font-weight: 600;
        }
        .levels-timeline {
            display: flex;
            gap: 2rem;
            flex-wrap: wrap;
        }
        .level-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            border-radius: 12px;
            flex: 1;
            min-width: 200px;
        }
        .level-item.current {
            background: #f0f8f5;
            border: 2px solid #2e8b57;
        }
        .level-item.next {
            background: #f8f9fa;
            border: 2px solid #e5e7eb;
        }
        .level-item.locked {
            background: #f8f9fa;
            border: 2px solid #e5e7eb;
            opacity: 0.6;
        }
        .level-badge {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
        }
        .level-item.current .level-badge {
            background: #2e8b57;
            color: white;
        }
        .level-item.next .level-badge {
            background: #e5e7eb;
            color: #6b7280;
        }
        .level-item.locked .level-badge {
            background: #e5e7eb;
            color: #9ca3af;
        }
        .level-info h4 {
            margin: 0 0 0.25rem 0;
            color: #333;
            font-size: 1rem;
            font-weight: 600;
        }
        .level-info p {
            margin: 0 0 0.25rem 0;
            color: #6b7280;
            font-size: 0.875rem;
        }
        .level-status {
            font-size: 0.75rem;
            font-weight: 500;
        }
        .level-item.current .level-status {
            color: #2e8b57;
        }
        .level-item.next .level-status {
            color: #6b7280;
        }
        .level-item.locked .level-status {
            color: #9ca3af;
        }
        .points-guide {
            background: #fff;
            border-radius: 16px;
            padding: 2rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            border: 1px solid rgba(46, 139, 87, 0.1);
        }
        .points-guide h3 {
            margin: 0 0 1.5rem 0;
            color: #2e8b57;
            font-size: 1.25rem;
            font-weight: 600;
        }
        .points-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
        }
        .point-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            background: #f8fffe;
            border-radius: 12px;
            border: 1px solid rgba(46, 139, 87, 0.1);
        }
        .point-item i {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #2e8b57;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
        }
        .point-item h4 {
            margin: 0 0 0.25rem 0;
            color: #333;
            font-size: 1rem;
            font-weight: 600;
        }
        .point-item p {
            margin: 0;
            color: #6b7280;
            font-size: 0.875rem;
        }
        /* ===== ESTILOS PARA MI IMPACTO ===== */
        .impact-summary {
            margin-bottom: 2rem;
        }
        .summary-card {
            background: linear-gradient(135deg, #2e8b57 0%, #90ee90 100%);
            border-radius: 20px;
            padding: 2rem;
            color: white;
            display: flex;
            align-items: center;
            gap: 2rem;
            position: relative;
            overflow: hidden;
        }
        .summary-card::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 100%;
            height: 100%;
            background: rgba(255,255,255,0.1);
            border-radius: 50%;
            z-index: 1;
        }
        .summary-icon {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: rgba(255,255,255,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            position: relative;
            z-index: 2;
        }
        .summary-content {
            position: relative;
            z-index: 2;
        }
        .summary-content h3 {
            margin: 0 0 1rem 0;
            font-size: 1.5rem;
            font-weight: 700;
        }
        .impact-score {
            display: flex;
            align-items: baseline;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
        }
        .score-number {
            font-size: 3rem;
            font-weight: 700;
        }
        .score-label {
            font-size: 1rem;
            opacity: 0.9;
        }
        .summary-content p {
            margin: 0;
            font-size: 1rem;
            opacity: 0.9;
        }
        .impact-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        .stat-card {
            background: #fff;
            border-radius: 16px;
            padding: 2rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            border: 1px solid rgba(46, 139, 87, 0.1);
            transition: all 0.3s ease;
        }
        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(46, 139, 87, 0.15);
        }
        .stat-card.primary {
            border: 2px solid #2e8b57;
            background: linear-gradient(135deg, #f8fffe 0%, #f0f8f5 100%);
        }
        .stat-card {
            display: flex;
            align-items: center;
            gap: 1.5rem;
        }
        .stat-icon {
            width: 60px;
            height: 60px;
            border-radius: 16px;
            background: #f0f8f5;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #2e8b57;
            font-size: 1.5rem;
        }
        .stat-content h3 {
            margin: 0 0 0.5rem 0;
            color: #333;
            font-size: 1rem;
            font-weight: 600;
        }
        .stat-value {
            display: flex;
            align-items: baseline;
            gap: 0.25rem;
            margin-bottom: 0.5rem;
        }
        .value-number {
            font-size: 2rem;
            font-weight: 700;
            color: #2e8b57;
        }
        .value-unit {
            font-size: 1rem;
            color: #6b7280;
            font-weight: 500;
        }
        .stat-content p {
            margin: 0 0 0.5rem 0;
            color: #6b7280;
            font-size: 0.875rem;
        }
        .stat-trend {
            display: flex;
            align-items: center;
            gap: 0.25rem;
            font-size: 0.75rem;
            font-weight: 500;
        }
        .stat-trend.positive {
            color: #2e8b57;
        }
        .stat-progress {
            margin-top: 0.5rem;
        }
        .stat-badge {
            display: flex;
            align-items: center;
            gap: 0.25rem;
            background: #2e8b57;
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 500;
            margin-top: 0.5rem;
        }
        .impact-details {
            background: #fff;
            border-radius: 16px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            border: 1px solid rgba(46, 139, 87, 0.1);
        }
        .contribution-list {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        .contribution-item {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            padding: 1.5rem;
            background: #f8fffe;
            border-radius: 12px;
            border: 1px solid rgba(46, 139, 87, 0.1);
        }
        .contribution-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            background: #2e8b57;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
            flex-shrink: 0;
        }
        .contribution-content h4 {
            margin: 0 0 0.5rem 0;
            color: #333;
            font-size: 1.125rem;
            font-weight: 600;
        }
        .contribution-content p {
            margin: 0 0 1rem 0;
            color: #6b7280;
            font-size: 0.875rem;
            line-height: 1.5;
        }
        .contribution-stats {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }
        .contribution-stats .stat {
            display: flex;
            align-items: center;
            gap: 0.25rem;
            background: white;
            color: #2e8b57;
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 500;
        }
        .achievements-section {
            background: #fff;
            border-radius: 16px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            border: 1px solid rgba(46, 139, 87, 0.1);
        }
        .achievements-section h3 {
            margin: 0 0 1.5rem 0;
            color: #2e8b57;
            font-size: 1.25rem;
            font-weight: 600;
        }
        .achievements-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
        }
        .achievement-card {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1.5rem;
            border-radius: 12px;
            border: 2px solid #e5e7eb;
            transition: all 0.3s ease;
        }
        .achievement-card.earned {
            background: #f0f8f5;
            border-color: #2e8b57;
        }
        .achievement-card.locked {
            background: #f8f9fa;
            opacity: 0.6;
        }
        .achievement-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }
        .achievement-card.earned .achievement-icon {
            background: #2e8b57;
            color: white;
        }
        .achievement-card.locked .achievement-icon {
            background: #e5e7eb;
            color: #9ca3af;
        }
        .achievement-content h4 {
            margin: 0 0 0.25rem 0;
            color: #333;
            font-size: 1rem;
            font-weight: 600;
        }
        .achievement-content p {
            margin: 0 0 0.5rem 0;
            color: #6b7280;
            font-size: 0.875rem;
        }
        .achievement-date {
            font-size: 0.75rem;
            color: #2e8b57;
            font-weight: 500;
        }
        .achievement-progress {
            font-size: 0.75rem;
            color: #6b7280;
            font-weight: 500;
        }
        .recommendations-section {
            background: #fff;
            border-radius: 16px;
            padding: 2rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            border: 1px solid rgba(46, 139, 87, 0.1);
        }
        .recommendations-section h3 {
            margin: 0 0 1.5rem 0;
            color: #2e8b57;
            font-size: 1.25rem;
            font-weight: 600;
        }
        .recommendations-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        .recommendation-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            background: #f8fffe;
            border-radius: 12px;
            border: 1px solid rgba(46, 139, 87, 0.1);
        }
        .recommendation-item i {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #2e8b57;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
        }
        .recommendation-item > div {
            flex: 1;
        }
        .recommendation-item h4 {
            margin: 0 0 0.25rem 0;
            color: #333;
            font-size: 1rem;
            font-weight: 600;
        }
        .recommendation-item p {
            margin: 0;
            color: #6b7280;
            font-size: 0.875rem;
        }
        .btn-sm {
            padding: 0.5rem 1rem;
            font-size: 0.875rem;
        }
        .btn-danger {
            background: #ef4444;
            color: white;
            border: none;
        }
        .btn-danger:hover {
            background: #dc2626;
        }
        /* ===== ESTILOS PARA CONFIGURACIÓN ===== */
        .settings-container {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }
        .settings-section {
            background: #fff;
            border-radius: 16px;
            padding: 2rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            border: 1px solid rgba(46, 139, 87, 0.1);
        }
        .settings-grid {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        .setting-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1.5rem;
            background: #f8fffe;
            border-radius: 12px;
            border: 1px solid rgba(46, 139, 87, 0.1);
            transition: all 0.3s ease;
        }
        .setting-item:hover {
            background: #f0f8f5;
            transform: translateY(-1px);
        }
        .setting-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            background: #2e8b57;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
            flex-shrink: 0;
        }
        .setting-info {
            flex: 1;
        }
        .setting-info h4 {
            margin: 0 0 0.25rem 0;
            color: #333;
            font-size: 1rem;
            font-weight: 600;
        }
        .setting-info p {
            margin: 0;
            color: #6b7280;
            font-size: 0.875rem;
        }
        .switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .slider {
            background-color: #2e8b57;
        }
        input:checked + .slider:before {
            transform: translateX(26px);
        }
        .setting-select {
            padding: 0.5rem 1rem;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            background: white;
            color: #333;
            font-size: 0.875rem;
            min-width: 150px;
        }
        .setting-select:focus {
            outline: none;
            border-color: #2e8b57;
        }
        .settings-actions {
            display: flex;
            gap: 1rem;
            justify-content: center;
            padding: 2rem;
            background: #f8fffe;
            border-radius: 16px;
            border: 1px solid rgba(46, 139, 87, 0.1);
        }
        /* ===== RESPONSIVE DESIGN ===== */
        @media (max-width: 768px) {
            .filter-buttons {
                flex-direction: column;
            }
            .filter-btn {
                justify-content: center;
            }
            .progress-steps {
                flex-direction: column;
                gap: 1rem;
            }
            .levels-timeline {
                flex-direction: column;
            }
            .points-grid {
                grid-template-columns: 1fr;
            }
            .impact-stats {
                grid-template-columns: 1fr;
            }
            .achievements-grid {
                grid-template-columns: 1fr;
            }
            .summary-card {
                flex-direction: column;
                text-align: center;
            }
            .stat-card {
                flex-direction: column;
                text-align: center;
            }
            .contribution-item {
                flex-direction: column;
                text-align: center;
            }
            .recommendation-item {
                flex-direction: column;
                text-align: center;
            }
            .setting-item {
                flex-direction: column;
                text-align: center;
            }
            .settings-actions {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <header class="main-header">
        <div class="header-content">
            <a href="index.html" class="logo-container">
                <img src="assets/img/Logo_HuertoHogar_Web.png" alt="Logo de HuertoHogar" class="logo">
                <h2>HuertoHogar</h2>
            </a>
            <nav class="main-nav">
                <a href="index.html">Inicio</a>
                <a href="productos.html">Productos</a>
                <a href="nosotros.html">Nosotros</a>
                <a href="blog.html">Blog</a>
            </nav>
            <div class="header-actions">
                <div class="search-bar">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="Buscar...">
                </div>
                <a href="login.html" class="login-link" id="user-login-link">Ingresar</a>
                <div class="user-profile" id="user-profile" style="display: none;">
                    <span class="user-name" id="user-name"></span>
                    <div class="user-menu">
                        <a href="mi-cuenta.html" class="user-menu-item">Mi Cuenta</a>
                        <button id="logout-btn" class="user-menu-item logout-btn">Cerrar Sesión</button>
                    </div>
                </div>
                <button id="open-cart-btn" class="cart-button">
                    <i class="fas fa-shopping-cart"></i>
                    <span id="cart-counter" class="cart-counter">0</span>
                </button>
            </div>
        </div>
    </header>
    <main class="page-container">
        <div class="account-layout">
            <!-- Sidebar de navegación -->
            <aside class="account-sidebar">
                <div class="sidebar-header">
                    <h2>Mi Cuenta</h2>
                    <div class="user-info">
                        <span id="sidebar-user-name">—</span>
                        <span class="user-balance">$0</span>
                    </div>
                </div>
                <nav class="sidebar-nav">
                    <button class="nav-item active" data-section="datos-personales">
                        <i class="fas fa-user"></i>
                        <span>Datos Personales</span>
                    </button>
                    <button class="nav-item" data-section="historial-pedidos">
                        <i class="fas fa-clipboard-list"></i>
                        <span>Mis Pedidos</span>
                    </button>
                    <button class="nav-item" data-section="direcciones">
                        <i class="fas fa-map-marker-alt"></i>
                        <span>Direcciones</span>
                    </button>
                    <button class="nav-item" data-section="medios-pago">
                        <i class="fas fa-credit-card"></i>
                        <span>Medios de Pago</span>
                    </button>
                    <button class="nav-item" data-section="recomendaciones">
                        <i class="fas fa-heart"></i>
                        <span>Recomendaciones</span>
                    </button>
                    <button class="nav-item" data-section="huerto-club">
                        <i class="fas fa-crown"></i>
                        <span>HuertoHogar CLUB</span>
                    </button>
                    <button class="nav-item" data-section="impacto-ambiental">
                        <i class="fas fa-leaf"></i>
                        <span>Mi Impacto</span>
                    </button>
                    <button class="nav-item" data-section="configuracion">
                        <i class="fas fa-cog"></i>
                        <span>Configuración</span>
                    </button>
                    <button class="nav-item logout-item" id="sidebar-logout-btn">
                        <i class="fas fa-sign-out-alt"></i>
                        <span>Cerrar Sesión</span>
                    </button>
                </nav>
            </aside>
            <!-- Contenido principal -->
            <div class="account-content">
                <!-- Sección Datos Personales -->
                <section id="datos-personales" class="content-section active">
                    <div class="section-header">
                        <h1>Mi Cuenta</h1>
                        <div class="user-info-display">
                            <span id="display-user-name">Usuario</span>
                            <span class="user-balance-display">$0</span>
                        </div>
                    </div>
                    <div class="profile-container">
                        <div class="profile-form-section">
                            <h2>Datos Personales</h2>
                            <p class="section-description">Mantén tu información actualizada para una mejor experiencia de compra</p>
                            <form id="profile-form">
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="profile-name">Nombre *</label>
                                        <input id="profile-name" type="text" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="profile-lastname">Apellido *</label>
                                        <input id="profile-lastname" type="text" required>
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="profile-rut">RUT *</label>
                                        <input id="profile-rut" type="text" placeholder="12.345.678-9" readonly>
                                        <small class="field-note">El RUT no se puede modificar</small>
                                    </div>
                                    <div class="form-group">
                                        <label for="profile-birthdate">Fecha de Nacimiento</label>
                                        <input id="profile-birthdate" type="date">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="profile-email">Email *</label>
                                    <input id="profile-email" type="email" readonly>
                                    <small class="form-hint">El email no se puede modificar</small>
                                </div>
                                <div class="form-group">
                                    <label for="profile-phone">Teléfono *</label>
                                    <div class="phone-field">
                                        <select id="profile-country-code" class="country-code">
                                            <option value="+56">+56</option>
                                            <option value="+54">+54</option>
                                            <option value="+55">+55</option>
                                        </select>
                                        <input id="profile-phone" type="tel" placeholder="9 1234 5678" required>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="profile-address">Dirección de Entrega *</label>
                                    <input id="profile-address" type="text" placeholder="Calle, número, comuna, región" required>
                                </div>
                                <div class="form-group">
                                    <label>¿Para cuántas personas se cocina en tu casa?</label>
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="adults">Adultos</label>
                                            <select id="adults">
                                                <option value="1">1</option>
                                                <option value="2" selected>2</option>
                                                <option value="3">3</option>
                                                <option value="4">4</option>
                                                <option value="5+">5+</option>
                                            </select>
                                        </div>
                                        <div class="form-group">
                                            <label for="children">Niños</label>
                                            <select id="children">
                                                <option value="0" selected>0</option>
                                                <option value="1">1</option>
                                                <option value="2">2</option>
                                                <option value="3">3</option>
                                                <option value="4+">4+</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label>¿Qué tipo de alimentación llevas?</label>
                                    <p class="form-hint">Selecciona todas las opciones que apliquen</p>
                                    <div class="diet-options">
                                        <label class="diet-option">
                                            <input type="checkbox" value="vegetariana">
                                            <span>Vegetariana</span>
                                        </label>
                                        <label class="diet-option">
                                            <input type="checkbox" value="vegana">
                                            <span>Vegana</span>
                                        </label>
                                        <label class="diet-option">
                                            <input type="checkbox" value="sin-gluten">
                                            <span>Sin Gluten</span>
                                        </label>
                                        <label class="diet-option">
                                            <input type="checkbox" value="saludable">
                                            <span>Saludable</span>
                                        </label>
                                        <label class="diet-option">
                                            <input type="checkbox" value="sin-azucar">
                                            <span>Sin Azúcar</span>
                                        </label>
                                        <label class="diet-option">
                                            <input type="checkbox" value="keto">
                                            <span>Keto</span>
                                        </label>
                                        <label class="diet-option">
                                            <input type="checkbox" value="sin-restricciones">
                                            <span>Sin restricciones alimentarias</span>
                                        </label>
                                    </div>
                                </div>
                                <div class="form-actions">
                                    <button type="submit" class="btn-primary">
                                        <i class="fas fa-save"></i>
                                        Guardar Cambios
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </section>
                <!-- Sección Historial de Pedidos -->
                <section id="historial-pedidos" class="content-section">
                    <div class="section-header">
                        <div class="header-content">
                            <h1><i class="fas fa-clipboard-list"></i> Mis Pedidos</h1>
                            <p class="section-description">Revisa el estado de tus pedidos y repite compras anteriores</p>
                        </div>
                        <div class="header-actions">
                            <button class="btn btn-outline">
                                <i class="fas fa-download"></i>
                                Exportar
                            </button>
                        </div>
                    </div>
                    <div class="orders-container">
                        <!-- Estadísticas de Pedidos -->
                        <div class="orders-stats">
                            <div class="stat-card">
                                <div class="stat-icon">
                                    <i class="fas fa-shopping-bag"></i>
                                </div>
                                <div class="stat-info">
                                    <span class="stat-number">0</span>
                                    <span class="stat-label">Pedidos Totales</span>
                                    <span class="stat-change">¡Haz tu primer pedido!</span>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon">
                                    <i class="fas fa-clock"></i>
                                </div>
                                <div class="stat-info">
                                    <span class="stat-number">0</span>
                                    <span class="stat-label">Pendientes</span>
                                    <span class="stat-change">Sin pedidos activos</span>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon">
                                    <i class="fas fa-truck"></i>
                                </div>
                                <div class="stat-info">
                                    <span class="stat-number">0</span>
                                    <span class="stat-label">En Tránsito</span>
                                    <span class="stat-change">Sin envíos activos</span>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon">
                                    <i class="fas fa-check-circle"></i>
                                </div>
                                <div class="stat-info">
                                    <span class="stat-number">0</span>
                                    <span class="stat-label">Entregados</span>
                                    <span class="stat-change">¡Comienza a comprar!</span>
                                </div>
                            </div>
                        </div>
                        <!-- Filtros y Búsqueda -->
                        <div class="orders-controls">
                            <div class="filter-section">
                                <h3>Filtrar por Estado</h3>
                                <div class="filter-buttons">
                                    <button class="filter-btn active" data-filter="all">
                                        <i class="fas fa-list"></i>
                                        Todos
                                    </button>
                                    <button class="filter-btn" data-filter="pending">
                                        <i class="fas fa-clock"></i>
                                        Pendientes
                                    </button>
                                    <button class="filter-btn" data-filter="shipped">
                                        <i class="fas fa-truck"></i>
                                        En Tránsito
                                    </button>
                                    <button class="filter-btn" data-filter="delivered">
                                        <i class="fas fa-check-circle"></i>
                                        Entregados
                                    </button>
                                    <button class="filter-btn" data-filter="cancelled">
                                        <i class="fas fa-times-circle"></i>
                                        Cancelados
                                    </button>
                                </div>
                            </div>
                            <div class="search-section">
                                <div class="search-box">
                                    <i class="fas fa-search"></i>
                                    <input type="text" placeholder="Buscar por número de pedido..." id="order-search">
                                </div>
                                <div class="date-filter">
                                    <label>Rango de fechas:</label>
                                    <input type="date" id="start-date">
                                    <span>a</span>
                                    <input type="date" id="end-date">
                                </div>
                            </div>
                        </div>
                        <!-- Lista de Pedidos -->
                        <div class="orders-list" id="orders-list">
                            <!-- Estado Vacío -->
                            <div class="empty-state">
                                <div class="empty-icon">
                                    <i class="fas fa-shopping-bag"></i>
                                </div>
                                <h3>¡Aún no tienes pedidos!</h3>
                                <p>Cuando realices tu primera compra en HuertoHogar, aquí podrás ver el historial de todos tus pedidos.</p>
                                <div class="empty-actions">
                                    <button class="btn btn-primary" onclick="window.location.href='productos.html'">
                                        <i class="fas fa-shopping-cart"></i>
                                        Comenzar a Comprar
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                <!-- Sección Direcciones -->
                <section id="direcciones" class="content-section">
                    <div class="section-header">
                        <div class="header-content">
                            <h1><i class="fas fa-map-marker-alt"></i> Mis Direcciones</h1>
                            <p class="section-description">Gestiona tus direcciones de entrega de forma segura</p>
                        </div>
                        <div class="header-actions">
                            <button class="btn btn-outline">
                                <i class="fas fa-map"></i>
                                Ver Mapa
                            </button>
                        </div>
                    </div>
                    <div class="addresses-container">
                        <div class="addresses-header">
                            <div class="header-section">
                                <h3>Gestionar Direcciones</h3>
                                <p>Agrega, edita o elimina tus direcciones de entrega</p>
                            </div>
                            <!-- El botón se mostrará solo cuando haya direcciones guardadas -->
                            <div class="header-controls" id="header-controls" style="display: none;">
                                <button class="btn btn-primary" id="add-address-btn">
                                    <i class="fas fa-plus"></i>
                                    Agregar Nueva Dirección
                                </button>
                            </div>
                        </div>
                        <div class="address-search-section">
                            <div class="search-box">
                                <i class="fas fa-search"></i>
                                <input type="text" placeholder="Buscar direcciones..." id="address-search">
                            </div>
                            <div class="filter-options">
                                <select class="filter-select">
                                    <option value="all">Todas las direcciones</option>
                                    <option value="home">Casa</option>
                                    <option value="work">Trabajo</option>
                                    <option value="other">Otras</option>
                                </select>
                            </div>
                        </div>
                        <div class="addresses-list" id="addresses-list">
                            <!-- Estado Vacío -->
                            <div class="empty-state">
                                <div class="empty-icon">
                                    <i class="fas fa-map-marker-alt"></i>
                                </div>
                                <h3>¡No tienes direcciones guardadas!</h3>
                                <p>Agrega tu primera dirección de entrega para facilitar tus compras en HuertoHogar.</p>
                                <div class="empty-actions">
                                    <button class="btn btn-primary" id="add-first-address-btn">
                                        <i class="fas fa-plus"></i>
                                        Agregar Dirección
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Modal para Agregar/Editar Dirección -->
                    <div id="address-modal" class="modal">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h2 id="modal-title">Agregar Nueva Dirección</h2>
                                <button class="close-modal" id="close-address-modal">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                            <form id="address-form" class="address-form">
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="address-name">Nombre de la Dirección</label>
                                        <input type="text" id="address-name" name="address-name" placeholder="Ej: Casa, Trabajo, etc." required>
                                    </div>
                                    <div class="form-group">
                                        <label for="contact-name">Nombre Completo</label>
                                        <input type="text" id="contact-name" name="contact-name" required>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="street-address">Dirección</label>
                                    <input type="text" id="street-address" name="street-address" placeholder="Calle, número, depto, etc." required>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="commune">Comuna</label>
                                        <select id="commune" name="commune" required>
                                            <option value="">Seleccionar comuna</option>
                                            <option value="providencia">Providencia</option>
                                            <option value="las-condes">Las Condes</option>
                                            <option value="vitacura">Vitacura</option>
                                            <option value="maipu">Maipú</option>
                                            <option value="santiago">Santiago</option>
                                            <option value="nunoa">Ñuñoa</option>
                                            <option value="la-reina">La Reina</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="region">Región</label>
                                        <select id="region" name="region" required>
                                            <option value="">Seleccionar región</option>
                                            <option value="metropolitana">Región Metropolitana</option>
                                            <option value="valparaiso">Región de Valparaíso</option>
                                            <option value="ohiggins">Región del Libertador General Bernardo O'Higgins</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="postal-code">Código Postal</label>
                                        <input type="text" id="postal-code" name="postal-code" placeholder="7500000" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="phone">Teléfono de Contacto</label>
                                        <input type="tel" id="phone" name="phone" placeholder="9 1234 5678" required>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="set-default" name="set-default">
                                        <span class="checkmark"></span>
                                        Establecer como dirección principal
                                    </label>
                                </div>
                                <div class="form-actions">
                                    <button type="button" class="btn btn-outline" id="cancel-address">Cancelar</button>
                                    <button type="submit" class="btn btn-primary">Guardar Dirección</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </section>
                <!-- Modal para Agregar/Editar Método de Pago -->
                <div id="payment-modal" class="modal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h2 id="payment-modal-title">Agregar Método de Pago</h2>
                            <button class="close-modal" id="close-payment-modal">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        <form id="payment-form" class="payment-form">
                            <div class="payment-type-selection">
                                <h3>Selecciona el tipo de método de pago</h3>
                                <div class="payment-types">
                                    <div class="payment-type-option" data-type="card">
                                        <i class="fas fa-credit-card"></i>
                                        <span>Tarjeta de Crédito/Débito</span>
                                    </div>
                                    <div class="payment-type-option" data-type="bank">
                                        <i class="fas fa-university"></i>
                                        <span>Transferencia Bancaria</span>
                                    </div>
                                    <div class="payment-type-option" data-type="digital">
                                        <i class="fas fa-mobile-alt"></i>
                                        <span>Billetera Digital</span>
                                    </div>
                                </div>
                            </div>
                            <!-- Formulario para Tarjeta -->
                            <div class="payment-form-section" id="card-form" style="display: none;">
                                <div class="form-group">
                                    <label for="card-number">Número de Tarjeta</label>
                                    <input type="text" id="card-number" name="card-number" placeholder="1234 5678 9012 3456" maxlength="19" required>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="card-name">Nombre del Titular</label>
                                        <input type="text" id="card-name" name="card-name" placeholder="Juan Pérez" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="card-expiry">Fecha de Vencimiento</label>
                                        <input type="text" id="card-expiry" name="card-expiry" placeholder="MM/AA" maxlength="5" required>
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="card-cvv">CVV</label>
                                        <input type="text" id="card-cvv" name="card-cvv" placeholder="123" maxlength="4" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="card-type">Tipo de Tarjeta</label>
                                        <select id="card-type" name="card-type" required>
                                            <option value="">Seleccionar tipo</option>
                                            <option value="visa">Visa</option>
                                            <option value="mastercard">Mastercard</option>
                                            <option value="amex">American Express</option>
                                            <option value="other">Otra</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <!-- Formulario para Transferencia Bancaria -->
                            <div class="payment-form-section" id="bank-form" style="display: none;">
                                <div class="form-group">
                                    <label for="bank-name">Banco</label>
                                    <select id="bank-name" name="bank-name" required>
                                        <option value="">Seleccionar banco</option>
                                        <option value="banco-chile">Banco de Chile</option>
                                        <option value="banco-estado">Banco Estado</option>
                                        <option value="santander">Santander</option>
                                        <option value="bci">BCI</option>
                                        <option value="itau">Itaú</option>
                                        <option value="scotiabank">Scotiabank</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="account-type">Tipo de Cuenta</label>
                                    <select id="account-type" name="account-type" required>
                                        <option value="">Seleccionar tipo</option>
                                        <option value="corriente">Cuenta Corriente</option>
                                        <option value="ahorro">Cuenta de Ahorro</option>
                                        <option value="vista">Cuenta Vista</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="account-number">Número de Cuenta</label>
                                    <input type="text" id="account-number" name="account-number" placeholder="1234567890" required>
                                </div>
                                <div class="form-group">
                                    <label for="account-holder">Titular de la Cuenta</label>
                                    <input type="text" id="account-holder" name="account-holder" placeholder="Juan Pérez" required>
                                </div>
                            </div>
                            <!-- Formulario para Billetera Digital -->
                            <div class="payment-form-section" id="digital-form" style="display: none;">
                                <div class="form-group">
                                    <label for="wallet-type">Tipo de Billetera</label>
                                    <select id="wallet-type" name="wallet-type" required>
                                        <option value="">Seleccionar billetera</option>
                                        <option value="khipu">Khipu</option>
                                        <option value="mach">Mach</option>
                                        <option value="tenpo">Tenpo</option>
                                        <option value="fpay">Fpay</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="phone-number">Número de Teléfono</label>
                                    <input type="tel" id="phone-number" name="phone-number" placeholder="+56 9 1234 5678" required>
                                </div>
                                <div class="form-group">
                                    <label for="wallet-holder">Nombre del Titular</label>
                                    <input type="text" id="wallet-holder" name="wallet-holder" placeholder="Juan Pérez" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="set-primary-payment" name="set-primary-payment">
                                    <span class="checkmark"></span>
                                    Establecer como método de pago principal
                                </label>
                            </div>
                            <div class="form-actions">
                                <button type="button" class="btn btn-outline" id="cancel-payment">Cancelar</button>
                                <button type="submit" class="btn btn-primary">Guardar Método de Pago</button>
                            </div>
                        </form>
                    </div>
                </div>
                <!-- Sección Medios de Pago -->
                <section id="medios-pago" class="content-section">
                    <div class="section-header">
                        <h1>Medios de Pago</h1>
                        <p class="section-description">Gestiona tus métodos de pago de forma segura</p>
                    </div>
                    <div class="payment-methods-container">
                        <div class="payment-header">
                            <div class="security-info">
                                <i class="fas fa-shield-alt"></i>
                                <span>Tus datos están protegidos con encriptación SSL</span>
                            </div>
                        </div>
                        <div class="payment-methods-list" id="payment-methods-list">
                            <!-- Estado Vacío -->
                            <div class="empty-state">
                                <div class="empty-icon">
                                    <i class="fas fa-credit-card"></i>
                                </div>
                                <h3>¡No tienes métodos de pago guardados!</h3>
                                <p>Agrega una tarjeta o método de pago para facilitar tus compras en HuertoHogar.</p>
                                <div class="empty-actions">
                                    <button class="btn btn-primary" id="add-payment-btn">
                                        <i class="fas fa-plus"></i>
                                        Agregar Método de Pago
                                    </button>
                                </div>
                            </div>
                            <!-- Lista de Métodos de Pago Guardados (se llena dinámicamente) -->
                            <div class="payment-methods-grid" id="payment-methods-grid" style="display: none;">
                                <!-- Las tarjetas se agregarán aquí dinámicamente -->
                            </div>
                        </div>
                    </div>
                    <!-- Modal para Agregar/Editar Método de Pago -->
                    <div id="payment-modal" class="modal">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h2 id="payment-modal-title">Agregar Método de Pago</h2>
                                <button class="close-modal" id="close-payment-modal">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                            <form id="payment-form" class="payment-form">
                                <div class="payment-type-selector">
                                    <h3>Selecciona el tipo de pago</h3>
                                    <div class="payment-options">
                                        <label class="payment-option">
                                            <input type="radio" name="payment-type" value="card" checked>
                                            <div class="option-content">
                                                <i class="fas fa-credit-card"></i>
                                                <span>Tarjeta de Crédito/Débito</span>
                                            </div>
                                        </label>
                                        <label class="payment-option">
                                            <input type="radio" name="payment-type" value="bank">
                                            <div class="option-content">
                                                <i class="fas fa-university"></i>
                                                <span>Transferencia Bancaria</span>
                                            </div>
                                        </label>
                                        <label class="payment-option">
                                            <input type="radio" name="payment-type" value="digital">
                                            <div class="option-content">
                                                <i class="fas fa-mobile-alt"></i>
                                                <span>Billetera Digital</span>
                                            </div>
                                        </label>
                                    </div>
                                </div>
                                <!-- Formulario de Tarjeta -->
                                <div id="card-form" class="payment-form-section">
                                    <div class="form-group">
                                        <label for="card-number">Número de Tarjeta</label>
                                        <input type="text" id="card-number" name="card-number" placeholder="1234 5678 9012 3456" maxlength="19">
                                    </div>
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="card-expiry">Fecha de Vencimiento</label>
                                            <input type="text" id="card-expiry" name="card-expiry" placeholder="MM/AA" maxlength="5">
                                        </div>
                                        <div class="form-group">
                                            <label for="card-cvv">CVV</label>
                                            <input type="text" id="card-cvv" name="card-cvv" placeholder="123" maxlength="4">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="card-holder">Nombre del Titular</label>
                                        <input type="text" id="card-holder" name="card-holder" placeholder="Como aparece en la tarjeta">
                                    </div>
                                </div>
                                <!-- Formulario de Banco -->
                                <div id="bank-form" class="payment-form-section" style="display: none;">
                                    <div class="form-group">
                                        <label for="bank-name">Banco</label>
                                        <select id="bank-name" name="bank-name">
                                            <option value="">Seleccionar banco</option>
                                            <option value="banco-chile">Banco de Chile</option>
                                            <option value="banco-estado">Banco Estado</option>
                                            <option value="santander">Santander</option>
                                            <option value="bci">BCI</option>
                                            <option value="itau">Itaú</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="account-type">Tipo de Cuenta</label>
                                        <select id="account-type" name="account-type">
                                            <option value="">Seleccionar tipo</option>
                                            <option value="corriente">Cuenta Corriente</option>
                                            <option value="ahorro">Cuenta de Ahorro</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="account-number">Número de Cuenta</label>
                                        <input type="text" id="account-number" name="account-number" placeholder="1234567890">
                                    </div>
                                </div>
                                <!-- Formulario de Billetera Digital -->
                                <div id="digital-form" class="payment-form-section" style="display: none;">
                                    <div class="form-group">
                                        <label for="wallet-provider">Proveedor</label>
                                        <select id="wallet-provider" name="wallet-provider">
                                            <option value="">Seleccionar proveedor</option>
                                            <option value="khipu">Khipu</option>
                                            <option value="mach">Mach</option>
                                            <option value="tenpo">Tenpo</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="phone-number">Número de Teléfono</label>
                                        <input type="tel" id="phone-number" name="phone-number" placeholder="9 1234 5678">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="set-default-payment" name="set-default-payment">
                                        <span class="checkmark"></span>
                                        Establecer como método de pago principal
                                    </label>
                                </div>
                                <div class="form-actions">
                                    <button type="button" class="btn btn-outline" id="cancel-payment">Cancelar</button>
                                    <button type="submit" class="btn btn-primary">Guardar Método de Pago</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </section>
                <!-- Sección Recomendaciones -->
                <section id="recomendaciones" class="content-section">
                    <div class="section-header">
                        <h1>Recomendaciones Personalizadas</h1>
                        <p class="section-description">Productos seleccionados especialmente para ti basados en tus preferencias y compras anteriores</p>
                    </div>
                    <div class="recommendations-container">
                        <!-- Filtros de Recomendaciones -->
                        <div class="recommendation-filters">
                            <div class="filters-header">
                                <h3>Filtrar Recomendaciones</h3>
                                <span class="filter-count">0 productos encontrados</span>
                            </div>
                            <div class="filter-buttons">
                                <button class="filter-btn active" data-filter="all">
                                    <i class="fas fa-th"></i>
                                    Todos
                                </button>
                                <button class="filter-btn" data-filter="previous">
                                    <i class="fas fa-history"></i>
                                    Basado en Compras
                                </button>
                                <button class="filter-btn" data-filter="seasonal">
                                    <i class="fas fa-leaf"></i>
                                    Temporada
                                </button>
                                <button class="filter-btn" data-filter="new">
                                    <i class="fas fa-star"></i>
                                    Nuevos
                                </button>
                                <button class="filter-btn" data-filter="organic">
                                    <i class="fas fa-seedling"></i>
                                    Orgánicos
                                </button>
                            </div>
                        </div>
                        <!-- Estado Vacío Mejorado -->
                        <div class="recommendation-categories">
                            <div class="empty-state">
                                <div class="empty-icon">
                                    <i class="fas fa-lightbulb"></i>
                                </div>
                                <h3>¡Descubre productos perfectos para ti!</h3>
                                <p>Completa tu perfil y realiza algunas compras para recibir recomendaciones personalizadas basadas en tus preferencias y hábitos de compra.</p>
                                <!-- Progreso de Perfil -->
                                <div class="profile-progress">
                                    <h4>Completa tu perfil para mejores recomendaciones</h4>
                                    <div class="progress-steps">
                                        <div class="step completed">
                                            <i class="fas fa-check"></i>
                                            <span>Datos Personales</span>
                                        </div>
                                        <div class="step">
                                            <i class="fas fa-shopping-cart"></i>
                                            <span>Primera Compra</span>
                                        </div>
                                        <div class="step">
                                            <i class="fas fa-heart"></i>
                                            <span>Preferencias</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="empty-actions">
                                    <button class="btn btn-outline" onclick="showSection('datos-personales')">
                                        <i class="fas fa-user"></i>
                                        Completar Perfil
                                    </button>
                                    <button class="btn btn-primary" onclick="window.location.href='productos.html'">
                                        <i class="fas fa-shopping-cart"></i>
                                        Explorar Productos
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                <!-- Sección HuertoHogar CLUB -->
                <section id="huerto-club" class="content-section">
                    <div class="section-header">
                        <h1>HuertoHogar CLUB</h1>
                        <p class="section-description">Programa de fidelización con beneficios exclusivos y recompensas especiales</p>
                    </div>
                    <div class="loyalty-container">
                        <!-- Estado de Membresía -->
                        <div class="loyalty-status">
                            <div class="status-card">
                                <div class="status-header">
                                    <div class="status-badge">
                                        <i class="fas fa-crown"></i>
                                        <span>Miembro Bronce</span>
                                    </div>
                                    <div class="status-points">
                                        <span class="points-number">150</span>
                                        <span class="points-label">puntos</span>
                                    </div>
                                </div>
                                <div class="progress-section">
                                    <div class="progress-info">
                                        <span>Progreso hacia Plata</span>
                                        <span>150 / 500 puntos</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 30%"></div>
                                    </div>
                                    <p class="progress-text">Necesitas 350 puntos más para alcanzar el nivel Plata</p>
                                </div>
                                <div class="status-actions">
                                    <button class="btn btn-outline">
                                        <i class="fas fa-info-circle"></i>
                                        Ver Cómo Ganar Puntos
                                    </button>
                                </div>
                            </div>
                        </div>
                        <!-- Beneficios Actuales -->
                        <div class="benefits-section">
                            <div class="section-title">
                                <h3>Beneficios Actuales</h3>
                                <span class="benefits-count">3 beneficios activos</span>
                            </div>
                            <div class="benefits-grid">
                                <div class="benefit-card active">
                                    <div class="benefit-icon">
                                        <i class="fas fa-truck"></i>
                                    </div>
                                    <div class="benefit-content">
                                        <h4>Envío Gratis</h4>
                                        <p>En compras sobre $15.000</p>
                                        <span class="benefit-status">Activo</span>
                                    </div>
                                </div>
                                <div class="benefit-card active">
                                    <div class="benefit-icon">
                                        <i class="fas fa-percentage"></i>
                                    </div>
                                    <div class="benefit-content">
                                        <h4>5% Descuento</h4>
                                        <p>En productos orgánicos</p>
                                        <span class="benefit-status">Activo</span>
                                    </div>
                                </div>
                                <div class="benefit-card active">
                                    <div class="benefit-icon">
                                        <i class="fas fa-gift"></i>
                                    </div>
                                    <div class="benefit-content">
                                        <h4>Ofertas Exclusivas</h4>
                                        <p>Acceso a promociones especiales</p>
                                        <span class="benefit-status">Activo</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Próximos Niveles -->
                        <div class="levels-section">
                            <h3>Próximos Niveles</h3>
                            <div class="levels-timeline">
                                <div class="level-item current">
                                    <div class="level-badge">
                                        <i class="fas fa-medal"></i>
                                    </div>
                                    <div class="level-info">
                                        <h4>Bronce</h4>
                                        <p>0 - 499 puntos</p>
                                        <span class="level-status">Actual</span>
                                    </div>
                                </div>
                                <div class="level-item next">
                                    <div class="level-badge">
                                        <i class="fas fa-medal"></i>
                                    </div>
                                    <div class="level-info">
                                        <h4>Plata</h4>
                                        <p>500 - 999 puntos</p>
                                        <span class="level-status">350 puntos para alcanzar</span>
                                    </div>
                                </div>
                                <div class="level-item locked">
                                    <div class="level-badge">
                                        <i class="fas fa-lock"></i>
                                    </div>
                                    <div class="level-info">
                                        <h4>Oro</h4>
                                        <p>1000+ puntos</p>
                                        <span class="level-status">Bloqueado</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Cómo Ganar Puntos -->
                        <div class="points-guide">
                            <h3>Cómo Ganar Puntos</h3>
                            <div class="points-grid">
                                <div class="point-item">
                                    <i class="fas fa-shopping-cart"></i>
                                    <div>
                                        <h4>Compras</h4>
                                        <p>1 punto por cada $100 gastados</p>
                                    </div>
                                </div>
                                <div class="point-item">
                                    <i class="fas fa-star"></i>
                                    <div>
                                        <h4>Reseñas</h4>
                                        <p>10 puntos por reseña publicada</p>
                                    </div>
                                </div>
                                <div class="point-item">
                                    <i class="fas fa-share"></i>
                                    <div>
                                        <h4>Compartir</h4>
                                        <p>5 puntos por compartir en redes</p>
                                    </div>
                                </div>
                                <div class="point-item">
                                    <i class="fas fa-birthday-cake"></i>
                                    <div>
                                        <h4>Cumpleaños</h4>
                                        <p>50 puntos extra en tu cumpleaños</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                <!-- Sección Mi Impacto -->
                <section id="impacto-ambiental" class="content-section">
                    <div class="section-header">
                        <h1>Mi Impacto Ambiental</h1>
                        <p class="section-description">Descubre el impacto positivo de tus compras sostenibles en el medio ambiente</p>
                    </div>
                    <div class="impact-container">
                        <!-- Resumen de Impacto -->
                        <div class="impact-summary">
                            <div class="summary-card">
                                <div class="summary-icon">
                                    <i class="fas fa-globe-americas"></i>
                                </div>
                                <div class="summary-content">
                                    <h3>Tu Impacto Total</h3>
                                    <div class="impact-score">
                                        <span class="score-number">+127</span>
                                        <span class="score-label">puntos de impacto</span>
                                    </div>
                                    <p>Contribuyendo a un futuro más sostenible</p>
                                </div>
                            </div>
                        </div>
                        <!-- Estadísticas Principales -->
                        <div class="impact-stats">
                            <div class="stat-card primary">
                                <div class="stat-icon">
                                    <i class="fas fa-leaf"></i>
                                </div>
                                <div class="stat-content">
                                    <h3>Huella de Carbono</h3>
                                    <div class="stat-value">
                                        <span class="value-number">-2.5</span>
                                        <span class="value-unit">kg CO₂</span>
                                    </div>
                                    <p>Reducida este mes</p>
                                    <div class="stat-trend positive">
                                        <i class="fas fa-arrow-up"></i>
                                        <span>15% mejor que el mes anterior</span>
                                    </div>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon">
                                    <i class="fas fa-seedling"></i>
                                </div>
                                <div class="stat-content">
                                    <h3>Productos Locales</h3>
                                    <div class="stat-value">
                                        <span class="value-number">85</span>
                                        <span class="value-unit">%</span>
                                    </div>
                                    <p>De tus compras son locales</p>
                                    <div class="stat-progress">
                                        <div class="progress-bar">
                                            <div class="progress-fill" style="width: 85%"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon">
                                    <i class="fas fa-recycle"></i>
                                </div>
                                <div class="stat-content">
                                    <h3>Envases Reciclados</h3>
                                    <div class="stat-value">
                                        <span class="value-number">12</span>
                                        <span class="value-unit">envases</span>
                                    </div>
                                    <p>Reutilizados este mes</p>
                                    <div class="stat-badge">
                                        <i class="fas fa-award"></i>
                                        <span>Eco-friendly</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Contribuciones a la Comunidad -->
                        <div class="impact-details">
                            <div class="section-title">
                                <h3>Tu Contribución a la Comunidad</h3>
                                <span class="contribution-count">2 contribuciones activas</span>
                            </div>
                            <div class="contribution-list">
                                <div class="contribution-item">
                                    <div class="contribution-icon">
                                        <i class="fas fa-hand-holding-heart"></i>
                                    </div>
                                    <div class="contribution-content">
                                        <h4>Apoyo a Agricultores Locales</h4>
                                        <p>Has apoyado a <strong>5 agricultores</strong> de la región, contribuyendo a la economía local</p>
                                        <div class="contribution-stats">
                                            <span class="stat">
                                                <i class="fas fa-users"></i>
                                                5 agricultores
                                            </span>
                                            <span class="stat">
                                                <i class="fas fa-dollar-sign"></i>
                                                $45,000 en compras
                                            </span>
                                        </div>
                                    </div>
                                </div>
                                <div class="contribution-item">
                                    <div class="contribution-icon">
                                        <i class="fas fa-globe-americas"></i>
                                    </div>
                                    <div class="contribution-content">
                                        <h4>Comercio Justo</h4>
                                        <p>Promoviendo prácticas agrícolas sostenibles y comercio ético</p>
                                        <div class="contribution-stats">
                                            <span class="stat">
                                                <i class="fas fa-certificate"></i>
                                                Productos certificados
                                            </span>
                                            <span class="stat">
                                                <i class="fas fa-heart"></i>
                                                Comercio justo
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Logros Ambientales -->
                        <div class="achievements-section">
                            <h3>Logros Ambientales</h3>
                            <div class="achievements-grid">
                                <div class="achievement-card earned">
                                    <div class="achievement-icon">
                                        <i class="fas fa-trophy"></i>
                                    </div>
                                    <div class="achievement-content">
                                        <h4>Primer Comprador Verde</h4>
                                        <p>Tu primera compra de productos orgánicos</p>
                                        <span class="achievement-date">Hace 2 meses</span>
                                    </div>
                                </div>
                                <div class="achievement-card earned">
                                    <div class="achievement-icon">
                                        <i class="fas fa-medal"></i>
                                    </div>
                                    <div class="achievement-content">
                                        <h4>Defensor Local</h4>
                                        <p>Compraste 10 productos locales consecutivos</p>
                                        <span class="achievement-date">Hace 1 mes</span>
                                    </div>
                                </div>
                                <div class="achievement-card locked">
                                    <div class="achievement-icon">
                                        <i class="fas fa-lock"></i>
                                    </div>
                                    <div class="achievement-content">
                                        <h4>Eco Champion</h4>
                                        <p>Compra 50 productos orgánicos</p>
                                        <span class="achievement-progress">12/50 productos</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Acciones Recomendadas -->
                        <div class="recommendations-section">
                            <h3>Acciones Recomendadas</h3>
                            <div class="recommendations-list">
                                <div class="recommendation-item">
                                    <i class="fas fa-lightbulb"></i>
                                    <div>
                                        <h4>Prueba productos de temporada</h4>
                                        <p>Los productos de temporada tienen menor huella de carbono</p>
                                    </div>
                                    <button class="btn btn-sm btn-outline">Ver Productos</button>
                                </div>
                                <div class="recommendation-item">
                                    <i class="fas fa-recycle"></i>
                                    <div>
                                        <h4>Reutiliza envases</h4>
                                        <p>Trae tus propios envases para reducir residuos</p>
                                    </div>
                                    <button class="btn btn-sm btn-outline">Más Info</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                <!-- Sección Configuración -->
                <section id="configuracion" class="content-section">
                    <div class="section-header">
                        <h1>Configuración</h1>
                        <p class="section-description">Personaliza tu experiencia en HuertoHogar y gestiona tus preferencias</p>
                    </div>
                    <div class="settings-container">
                        <!-- Notificaciones -->
                        <div class="settings-section">
                            <div class="section-title">
                                <h3>Notificaciones</h3>
                                <span class="section-subtitle">Controla cómo y cuándo recibes notificaciones</span>
                            </div>
                            <div class="settings-grid">
                                <div class="setting-item">
                                    <div class="setting-icon">
                                        <i class="fas fa-percentage"></i>
                                    </div>
                                    <div class="setting-info">
                                        <h4>Ofertas y Promociones</h4>
                                        <p>Recibe notificaciones sobre descuentos especiales y ofertas exclusivas</p>
                                    </div>
                                    <label class="switch">
                                        <input type="checkbox" checked>
                                        <span class="slider"></span>
                                    </label>
                                </div>
                                <div class="setting-item">
                                    <div class="setting-icon">
                                        <i class="fas fa-truck"></i>
                                    </div>
                                    <div class="setting-info">
                                        <h4>Estado de Pedidos</h4>
                                        <p>Notificaciones sobre el estado de tus pedidos y entregas</p>
                                    </div>
                                    <label class="switch">
                                        <input type="checkbox" checked>
                                        <span class="slider"></span>
                                    </label>
                                </div>
                                <div class="setting-item">
                                    <div class="setting-icon">
                                        <i class="fas fa-bell"></i>
                                    </div>
                                    <div class="setting-info">
                                        <h4>Recordatorios de Compra</h4>
                                        <p>Notificaciones para productos que compras frecuentemente</p>
                                    </div>
                                    <label class="switch">
                                        <input type="checkbox">
                                        <span class="slider"></span>
                                    </label>
                                </div>
                                <div class="setting-item">
                                    <div class="setting-icon">
                                        <i class="fas fa-envelope"></i>
                                    </div>
                                    <div class="setting-info">
                                        <h4>Newsletter</h4>
                                        <p>Recibe nuestro boletín con consejos y novedades</p>
                                    </div>
                                    <label class="switch">
                                        <input type="checkbox" checked>
                                        <span class="slider"></span>
                                    </label>
                                </div>
                            </div>
                        </div>
                        <!-- Privacidad y Datos -->
                        <div class="settings-section">
                            <div class="section-title">
                                <h3>Privacidad y Datos</h3>
                                <span class="section-subtitle">Gestiona cómo se utilizan tus datos personales</span>
                            </div>
                            <div class="settings-grid">
                                <div class="setting-item">
                                    <div class="setting-icon">
                                        <i class="fas fa-chart-line"></i>
                                    </div>
                                    <div class="setting-info">
                                        <h4>Análisis de Comportamiento</h4>
                                        <p>Permitir el uso de datos para mejorar recomendaciones</p>
                                    </div>
                                    <label class="switch">
                                        <input type="checkbox" checked>
                                        <span class="slider"></span>
                                    </label>
                                </div>
                                <div class="setting-item">
                                    <div class="setting-icon">
                                        <i class="fas fa-share-alt"></i>
                                    </div>
                                    <div class="setting-info">
                                        <h4>Compartir con Terceros</h4>
                                        <p>Permitir compartir datos con socios comerciales</p>
                                    </div>
                                    <label class="switch">
                                        <input type="checkbox">
                                        <span class="slider"></span>
                                    </label>
                                </div>
                                <div class="setting-item">
                                    <div class="setting-icon">
                                        <i class="fas fa-cookie-bite"></i>
                                    </div>
                                    <div class="setting-info">
                                        <h4>Cookies de Marketing</h4>
                                        <p>Permitir cookies para publicidad personalizada</p>
                                    </div>
                                    <label class="switch">
                                        <input type="checkbox">
                                        <span class="slider"></span>
                                    </label>
                                </div>
                            </div>
                        </div>
                        <!-- Preferencias de Cuenta -->
                        <div class="settings-section">
                            <div class="section-title">
                                <h3>Preferencias de Cuenta</h3>
                                <span class="section-subtitle">Personaliza tu experiencia de usuario</span>
                            </div>
                            <div class="settings-grid">
                                <div class="setting-item">
                                    <div class="setting-icon">
                                        <i class="fas fa-moon"></i>
                                    </div>
                                    <div class="setting-info">
                                        <h4>Modo Oscuro</h4>
                                        <p>Activar tema oscuro para una mejor experiencia visual</p>
                                    </div>
                                    <label class="switch">
                                        <input type="checkbox">
                                        <span class="slider"></span>
                                    </label>
                                </div>
                                <div class="setting-item">
                                    <div class="setting-icon">
                                        <i class="fas fa-language"></i>
                                    </div>
                                    <div class="setting-info">
                                        <h4>Idioma</h4>
                                        <p>Selecciona tu idioma preferido</p>
                                    </div>
                                    <select class="setting-select">
                                        <option value="es">Español</option>
                                        <option value="en">English</option>
                                        <option value="pt">Português</option>
                                    </select>
                                </div>
                                <div class="setting-item">
                                    <div class="setting-icon">
                                        <i class="fas fa-map-marker-alt"></i>
                                    </div>
                                    <div class="setting-info">
                                        <h4>Zona Horaria</h4>
                                        <p>Configura tu zona horaria para notificaciones</p>
                                    </div>
                                    <select class="setting-select">
                                        <option value="America/Santiago">Chile (GMT-3)</option>
                                        <option value="America/New_York">Nueva York (GMT-5)</option>
                                        <option value="Europe/Madrid">Madrid (GMT+1)</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <!-- Seguridad -->
                        <div class="settings-section">
                            <div class="section-title">
                                <h3>Seguridad</h3>
                                <span class="section-subtitle">Protege tu cuenta y datos personales</span>
                            </div>
                            <div class="settings-grid">
                                <div class="setting-item">
                                    <div class="setting-icon">
                                        <i class="fas fa-key"></i>
                                    </div>
                                    <div class="setting-info">
                                        <h4>Cambiar Contraseña</h4>
                                        <p>Actualiza tu contraseña regularmente</p>
                                    </div>
                                    <button class="btn btn-outline btn-sm">Cambiar</button>
                                </div>
                                <div class="setting-item">
                                    <div class="setting-icon">
                                        <i class="fas fa-mobile-alt"></i>
                                    </div>
                                    <div class="setting-info">
                                        <h4>Verificación en Dos Pasos</h4>
                                        <p>Agrega una capa extra de seguridad</p>
                                    </div>
                                    <label class="switch">
                                        <input type="checkbox">
                                        <span class="slider"></span>
                                    </label>
                                </div>
                                <div class="setting-item">
                                    <div class="setting-icon">
                                        <i class="fas fa-sign-out-alt"></i>
                                    </div>
                                    <div class="setting-info">
                                        <h4>Cerrar Sesión en Todos los Dispositivos</h4>
                                        <p>Termina todas las sesiones activas</p>
                                    </div>
                                    <button class="btn btn-outline btn-sm">Cerrar Todo</button>
                                </div>
                            </div>
                        </div>
                        <!-- Datos y Exportación -->
                        <div class="settings-section">
                            <div class="section-title">
                                <h3>Datos y Exportación</h3>
                                <span class="section-subtitle">Gestiona tus datos personales</span>
                            </div>
                            <div class="settings-grid">
                                <div class="setting-item">
                                    <div class="setting-icon">
                                        <i class="fas fa-download"></i>
                                    </div>
                                    <div class="setting-info">
                                        <h4>Descargar Mis Datos</h4>
                                        <p>Exporta toda tu información personal</p>
                                    </div>
                                    <button class="btn btn-outline btn-sm">Descargar</button>
                                </div>
                                <div class="setting-item">
                                    <div class="setting-icon">
                                        <i class="fas fa-trash"></i>
                                    </div>
                                    <div class="setting-info">
                                        <h4>Eliminar Cuenta</h4>
                                        <p>Elimina permanentemente tu cuenta y datos</p>
                                    </div>
                                    <button class="btn btn-danger btn-sm">Eliminar</button>
                                </div>
                            </div>
                        </div>
                        <!-- Acciones de Configuración -->
                        <div class="settings-actions">
                            <button class="btn btn-primary">
                                <i class="fas fa-save"></i>
                                Guardar Cambios
                            </button>
                            <button class="btn btn-outline">
                                <i class="fas fa-undo"></i>
                                Restablecer
                            </button>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    <script src="assets/js/script.js"></script>
    <script src="assets/js/autenticacion-mejorada.js"></script>
    <script>
        // Script inmediato para asegurar que la sección por defecto esté visible
        (function() {
            const defaultSection = document.getElementById('datos-personales');
            const defaultNav = document.querySelector('[data-section="datos-personales"]');
            const accountContent = document.querySelector('.account-content');
            const profileContainer = document.querySelector('.profile-container');
            const allSections = document.querySelectorAll('.content-section');
            // Ocultar TODAS las secciones primero
            allSections.forEach(section => {
                section.classList.remove('active');
                section.style.display = 'none';
                section.style.opacity = '0';
                section.style.visibility = 'hidden';
            });
            if (defaultSection) {
                defaultSection.classList.add('active');
                defaultSection.style.display = 'block';
                defaultSection.style.opacity = '1';
                defaultSection.style.visibility = 'visible';
                defaultSection.style.position = 'relative';
                defaultSection.style.width = '100%';
            }
            if (defaultNav) {
                defaultNav.classList.add('active');
            }
            if (accountContent) {
                accountContent.style.display = 'flex';
                accountContent.style.opacity = '1';
                accountContent.style.visibility = 'visible';
                accountContent.style.position = 'relative';
                accountContent.style.gridColumn = '2';
            }
            if (profileContainer) {
                profileContainer.style.display = 'block';
                profileContainer.style.opacity = '1';
                profileContainer.style.visibility = 'visible';
            }
            // Forzar el layout correcto
            const accountLayout = document.querySelector('.account-layout');
            if (accountLayout) {
                accountLayout.style.display = 'grid';
                accountLayout.style.gridTemplateColumns = '320px 1fr';
                accountLayout.style.gap = '2.5rem';
            }
        })();
    </script>
    <script>
        // Funcionalidad del sidebar de navegación
        function initializeSidebar() {
            const navItems = document.querySelectorAll('.nav-item[data-section]');
            const contentSections = document.querySelectorAll('.content-section');
            const sidebarLogoutBtn = document.getElementById('sidebar-logout-btn');
            const mainLogoutBtn = document.getElementById('logout-btn');
            // Asegurar que solo la sección por defecto esté activa
            const defaultSectionId = 'datos-personales';
            const defaultNavItem = document.querySelector(`[data-section="${defaultSectionId}"]`);
            const defaultContentSection = document.getElementById(defaultSectionId);
            // Ocultar TODAS las secciones primero
            contentSections.forEach(section => {
                section.classList.remove('active');
                section.style.display = 'none';
                section.style.opacity = '0';
                section.style.visibility = 'hidden';
            });
            // Remover clase active de todos los nav items
            navItems.forEach(nav => nav.classList.remove('active'));
            // Activar solo la sección por defecto
            if (defaultNavItem) {
                defaultNavItem.classList.add('active');
            }
            if (defaultContentSection) {
                defaultContentSection.classList.add('active');
                defaultContentSection.style.display = 'block';
                defaultContentSection.style.opacity = '1';
                defaultContentSection.style.visibility = 'visible';
            }
            // Navegación entre secciones
            navItems.forEach((item, index) => {
                // Remover listeners existentes para evitar duplicados
                item.removeEventListener('click', handleNavClick);
                item.addEventListener('click', handleNavClick);
            });
            // Funcionalidad de logout desde sidebar
            if (sidebarLogoutBtn) {
                sidebarLogoutBtn.removeEventListener('click', handleSidebarLogout);
                sidebarLogoutBtn.addEventListener('click', handleSidebarLogout);
            }
            // Cargar datos del usuario
            loadUserData();
        }
        // Función para manejar clicks en navegación
        function handleNavClick(e) {
            e.preventDefault();
            const targetSection = this.getAttribute('data-section');
            const navItems = document.querySelectorAll('.nav-item[data-section]');
            const contentSections = document.querySelectorAll('.content-section');
            // Remover clase active de todos los items
            navItems.forEach(nav => {
                nav.classList.remove('active');
            });
            // Ocultar TODAS las secciones primero
            contentSections.forEach(section => {
                section.classList.remove('active');
                section.style.display = 'none';
                section.style.opacity = '0';
                section.style.visibility = 'hidden';
            });
            // Agregar clase active al item clickeado
            this.classList.add('active');
            // Mostrar la sección correspondiente
            const targetElement = document.getElementById(targetSection);
            if (targetElement) {
                targetElement.classList.add('active');
                targetElement.style.display = 'block';
                targetElement.style.opacity = '1';
                targetElement.style.visibility = 'visible';
                // Verificar que se agregó la clase
                setTimeout(() => {
                }, 50);
            } else {
            }
        }
        // Función para manejar logout desde sidebar
        function handleSidebarLogout() {
        // Verificar disponibilidad de authEnhanced
        // Si authEnhanced no está disponible, intentar inicializarlo
        if (!window.authEnhanced) {
            try {
                if (typeof AuthEnhanced !== 'undefined') {
                    window.authEnhanced = new AuthEnhanced();
                } else {
                }
            } catch (error) {
            }
        }
        // Intentar usar authEnhanced si está disponible
        if (window.authEnhanced && typeof window.authEnhanced.logout === 'function') {
            try {
                window.authEnhanced.logout();
                return;
            } catch (error) {
                // Continuar con fallback
            }
        }
            // Fallback: intentar hacer click en el botón principal
            const mainLogoutBtn = document.getElementById('logout-btn');
            if (mainLogoutBtn) {
                try {
                    mainLogoutBtn.click();
                    return;
                } catch (error) {
                    // Continuar con fallback manual
                }
            }
            // Fallback final: logout manual
            // Limpiar sesiones
            localStorage.removeItem('huertoHogarAuth');
            sessionStorage.removeItem('huertoHogarAuth');
            localStorage.removeItem('huerto_session');
            sessionStorage.removeItem('huerto_session');
            // Actualizar header
            const loginLink = document.getElementById('user-login-link');
            const userProfile = document.getElementById('user-profile');
            if (loginLink && userProfile) {
                loginLink.style.display = 'inline-block';
                userProfile.style.display = 'none';
            }
            // Redirigir a index.html
            window.location.href = 'index.html';
        }
        // Función para limpiar datos de prueba del localStorage
        function cleanTestData() {
            // Limpiar sesiones
            localStorage.removeItem('huertoHogarAuth');
            sessionStorage.removeItem('huertoHogarAuth');
            localStorage.removeItem('huerto_session');
            // Obtener usuarios existentes
            const users = JSON.parse(localStorage.getItem('huerto_users') || '[]');
            // Filtrar usuarios de prueba (que contengan datos ficticios)
            const realUsers = users.filter(user => {
                // Eliminar usuarios con datos claramente de prueba
                const isTestUser = (
                    user.email === 'juan.perez@email.com' ||
                    user.nombre === 'Juan' ||
                    user.apellido === 'Pérez' ||
                    user.rut === '12.345.678-9' ||
                    user.id === 'test_user_123' ||
                    user.id.includes('test') ||
                    user.email.includes('test') ||
                    user.email.includes('prueba')
                );
                if (isTestUser) {
                }
                return !isTestUser;
            });
            // Guardar solo usuarios reales
            localStorage.setItem('huerto_users', JSON.stringify(realUsers));
        }
        // Función para cargar datos del usuario (global)
        window.loadUserData = function() {
            // Verificar todas las claves de localStorage relacionadas
            for (let i = 0; i < localStorage.length; i++) {
                const key = localStorage.key(i);
                if (key && (key.includes('huerto') || key.includes('auth') || key.includes('user'))) {
                }
            }
            // Verificar sesión del nuevo sistema primero
            const newSession = localStorage.getItem('huertoHogarAuth') || sessionStorage.getItem('huertoHogarAuth');
            let user = null;
            if (newSession) {
                try {
                    const auth = JSON.parse(newSession);
                    if (auth.isAuthenticated && auth.user) {
                        user = auth.user;
                    }
                } catch (error) {
                }
            }
            // Si no hay usuario en la nueva sesión, verificar sesión existente
            if (!user) {
                const session = JSON.parse(localStorage.getItem('huerto_session') || 'null');
                if (session && session.userId) {
                    const users = JSON.parse(localStorage.getItem('huerto_users') || '[]');
                    user = users.find(u => u.id === session.userId);
                }
            }
            // Mostrar nombre por defecto si no hay usuario
            const displayName = user ? (user.nombre || user.name || 'Usuario') : 'Usuario';
            // Actualizar nombre en sidebar
            const sidebarUserName = document.getElementById('sidebar-user-name');
            if (sidebarUserName) {
                sidebarUserName.textContent = displayName;
            }
            // Actualizar nombre en header
            const headerUserName = document.getElementById('user-name');
            if (headerUserName) {
                headerUserName.textContent = displayName;
            }
            // Actualizar información en el header de la sección
            const displayUserName = document.getElementById('display-user-name');
            if (displayUserName) {
                displayUserName.textContent = displayName;
            }
            // Cargar datos en el formulario solo si hay usuario
            if (user) {
                loadProfileData(user);
            } else {
                // Limpiar formulario si no hay usuario
                clearProfileForm();
            }
            // Forzar actualización del header en todas las páginas
            if (user) {
                updateHeaderUI(user);
            }
        }
        // Función para cargar datos del perfil
        function loadProfileData(user) {
            // Campos básicos del formulario
            const fields = {
                'profile-name': user.nombres || user.nombre || '',
                'profile-lastname': user.apellidos || user.apellido || '',
                'profile-rut': user.rut || '',
                'profile-birthdate': user.fechaNacimiento || '',
                'profile-email': user.email || '',
                'profile-phone': user.telefono || '',
                'profile-address': user.direccion || ''
            };
            // Llenar campos básicos
            Object.keys(fields).forEach(fieldId => {
                const field = document.getElementById(fieldId);
                if (field) {
                    field.value = fields[fieldId];
                } else {
                }
            });
            // Cargar código de país del teléfono
            if (user.codigoPais) {
                const countryCodeSelect = document.getElementById('profile-country-code');
                if (countryCodeSelect) {
                    countryCodeSelect.value = user.codigoPais;
                }
            }
            // Cargar preferencias dietéticas
            if (user.preferenciasDieteticas && Array.isArray(user.preferenciasDieteticas)) {
                user.preferenciasDieteticas.forEach(pref => {
                    const checkbox = document.querySelector(`input[name="diet-preference"][value="${pref}"]`);
                    if (checkbox) {
                        checkbox.checked = true;
                    }
                });
            }
            // Cargar información del hogar
            if (user.adultos) {
                const adultosSelect = document.getElementById('adults');
                if (adultosSelect) {
                    adultosSelect.value = user.adultos;
                }
            }
            if (user.ninos) {
                const ninosSelect = document.getElementById('children');
                if (ninosSelect) {
                    ninosSelect.value = user.ninos;
                }
            }
            // Mostrar mensaje de éxito
        }
        // Función para limpiar el formulario de perfil
        function clearProfileForm() {
            // Limpiar campos básicos
            const fields = [
                'profile-name', 'profile-lastname', 'profile-rut', 
                'profile-birthdate', 'profile-email', 'profile-phone', 
                'profile-address', 'profile-country-code', 'adults', 'children'
            ];
            fields.forEach(fieldId => {
                const field = document.getElementById(fieldId);
                if (field) {
                    field.value = '';
                }
            });
            // Limpiar preferencias dietéticas
            const dietCheckboxes = document.querySelectorAll('input[name="diet-preference"]');
            dietCheckboxes.forEach(checkbox => {
                checkbox.checked = false;
            });
        }
        // Función para actualizar el header UI
        function updateHeaderUI(userData) {
            const loginLink = document.getElementById('user-login-link');
            const userProfile = document.getElementById('user-profile');
            const userName = document.getElementById('user-name');
            if (loginLink && userProfile && userName) {
                // Ocultar botón de login
                loginLink.style.display = 'none';
                // Mostrar perfil de usuario
                userProfile.style.display = 'flex';
                userName.textContent = userData.name || userData.nombre || 'Usuario';
            }
        }
        // Limpiar localStorage automáticamente al cargar la página
        function clearAllData() {
            // Lista de todas las claves relacionadas con HuertoHogar
            const keysToRemove = [];
            // Recorrer localStorage para encontrar todas las claves relacionadas
            for (let i = 0; i < localStorage.length; i++) {
                const key = localStorage.key(i);
                if (key && (
                    key.includes('huerto') || 
                    key.includes('HuertoHogar') || 
                    key.includes('user') ||
                    key.includes('auth') ||
                    key.includes('session')
                )) {
                    keysToRemove.push(key);
                }
            }
            // Eliminar todas las claves encontradas
            keysToRemove.forEach(key => {
                localStorage.removeItem(key);
            });
            // Limpiar sessionStorage también
            const sessionKeysToRemove = [];
            for (let i = 0; i < sessionStorage.length; i++) {
                const key = sessionStorage.key(i);
                if (key && (
                    key.includes('huerto') || 
                    key.includes('HuertoHogar') || 
                    key.includes('user') ||
                    key.includes('auth') ||
                    key.includes('session')
                )) {
                    sessionKeysToRemove.push(key);
                }
            }
            sessionKeysToRemove.forEach(key => {
                sessionStorage.removeItem(key);
            });
        }
        // Función para guardar cambios del perfil
        function saveProfileChanges() {
            // Obtener usuario actual desde la sesión
            const session = JSON.parse(localStorage.getItem('huerto_session') || 'null');
            if (!session || !session.userId) {
                showErrorMessage('Debes iniciar sesión para guardar cambios en tu perfil.');
                return;
            }
            const users = JSON.parse(localStorage.getItem('huerto_users') || '[]');
            const userIndex = users.findIndex(u => u.id === session.userId);
            if (userIndex === -1) {
                return;
            }
            // Recopilar datos del formulario
            const formData = {
                nombre: document.getElementById('profile-name')?.value || '',
                apellido: document.getElementById('profile-lastname')?.value || '',
                rut: document.getElementById('profile-rut')?.value || '',
                fechaNacimiento: document.getElementById('profile-birthdate')?.value || '',
                email: document.getElementById('profile-email')?.value || '',
                telefono: document.getElementById('profile-phone')?.value || '',
                codigoPais: document.getElementById('profile-country-code')?.value || '+56',
                direccion: document.getElementById('profile-address')?.value || '',
                adultos: document.getElementById('adults')?.value || '1',
                ninos: document.getElementById('children')?.value || '0'
            };
            // Recopilar preferencias dietéticas
            const dietPreferences = [];
            const dietCheckboxes = document.querySelectorAll('input[name="diet-preference"]:checked');
            dietCheckboxes.forEach(checkbox => {
                dietPreferences.push(checkbox.value);
            });
            // Actualizar datos del usuario
            users[userIndex] = {
                ...users[userIndex],
                ...formData,
                preferenciasDieteticas: dietPreferences,
                name: `${formData.nombre} ${formData.apellido}` // Para compatibilidad
            };
            // Guardar usuarios actualizados
            localStorage.setItem('huerto_users', JSON.stringify(users));
            // Mostrar mensaje de éxito
            showSuccessMessage('Perfil actualizado exitosamente');
        }
        // Función para mostrar mensaje de éxito
        function showSuccessMessage(message) {
            // Crear elemento de mensaje
            const messageDiv = document.createElement('div');
            messageDiv.className = 'success-message';
            messageDiv.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: #2e8b57;
                color: white;
                padding: 1rem 1.5rem;
                border-radius: 8px;
                box-shadow: 0 4px 12px rgba(46, 139, 87, 0.3);
                z-index: 10000;
                font-weight: 500;
                animation: slideIn 0.3s ease-out;
            `;
            messageDiv.textContent = message;
            // Agregar estilos de animación
            const style = document.createElement('style');
            style.textContent = `
                @keyframes slideIn {
                    from {
                        transform: translateX(100%);
                        opacity: 0;
                    }
                    to {
                        transform: translateX(0);
                        opacity: 1;
                    }
                }
            `;
            document.head.appendChild(style);
            // Agregar mensaje al DOM
            document.body.appendChild(messageDiv);
            // Remover mensaje después de 3 segundos
            setTimeout(() => {
                messageDiv.style.animation = 'slideIn 0.3s ease-out reverse';
                setTimeout(() => {
                    document.body.removeChild(messageDiv);
                    document.head.removeChild(style);
                }, 300);
            }, 3000);
        }
        // Función para mostrar mensaje de error
        function showErrorMessage(message) {
            // Crear elemento de mensaje
            const messageDiv = document.createElement('div');
            messageDiv.className = 'error-message';
            messageDiv.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: #ef4444;
                color: white;
                padding: 1rem 1.5rem;
                border-radius: 8px;
                box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);
                z-index: 10000;
                font-weight: 500;
                animation: slideIn 0.3s ease-out;
            `;
            messageDiv.textContent = message;
            // Agregar estilos de animación
            const style = document.createElement('style');
            style.textContent = `
                @keyframes slideIn {
                    from {
                        transform: translateX(100%);
                        opacity: 0;
                    }
                    to {
                        transform: translateX(0);
                        opacity: 1;
                    }
                }
            `;
            document.head.appendChild(style);
            // Agregar mensaje al DOM
            document.body.appendChild(messageDiv);
            // Remover mensaje después de 4 segundos
            setTimeout(() => {
                messageDiv.style.animation = 'slideIn 0.3s ease-out reverse';
                setTimeout(() => {
                    document.body.removeChild(messageDiv);
                    document.head.removeChild(style);
                }, 300);
            }, 4000);
        }
        // Función para inicializar el formulario de perfil
        function initializeProfileForm() {
            const profileForm = document.getElementById('profile-form');
            if (profileForm) {
                profileForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    saveProfileChanges();
                });
            } else {
            }
        }
        // Función para inicializar el modal de direcciones
        function initializeAddressModal() {
            // Obtener elementos del modal
            const addAddressBtn = document.getElementById('add-address-btn');
            const addFirstAddressBtn = document.getElementById('add-first-address-btn');
            const addressModal = document.getElementById('address-modal');
            const closeModalBtn = document.getElementById('close-address-modal');
            const cancelAddressBtn = document.getElementById('cancel-address');
            // Variable para rastrear si se guardó una dirección
            let addressSaved = false;
            // Función para abrir el modal
            function openAddressModal() {
                if (addressModal) {
                    // Mostrar el modal
                    addressModal.style.display = 'block';
                    // Ocultar el estado vacío directamente
                    const emptyState = document.querySelector('#addresses-list .empty-state');
                    if (emptyState) {
                        emptyState.style.display = 'none';
                    }
                    // Asegurar que el modal esté en la parte superior
                    setTimeout(() => {
                        addressModal.scrollTop = 0;
                        // Enfocar el primer campo del formulario
                        const firstInput = addressModal.querySelector('input[type="text"]');
                        if (firstInput) {
                            firstInput.focus();
                        }
                    }, 100);
                }
            }
            // Función para cerrar el modal
            function closeAddressModal() {
                if (addressModal) {
                    // Ocultar el modal
                    addressModal.style.display = 'none';
                    // Mostrar el estado vacío nuevamente solo si no se guardó ninguna dirección
                    if (!addressSaved) {
                        const emptyState = document.querySelector('#addresses-list .empty-state');
                        if (emptyState) {
                            emptyState.style.display = 'block';
                        }
                    }
                }
            }
            // Event listeners para abrir el modal
            if (addAddressBtn) {
                addAddressBtn.addEventListener('click', openAddressModal);
            }
            if (addFirstAddressBtn) {
                addFirstAddressBtn.addEventListener('click', openAddressModal);
            }
            // Event listeners para cerrar el modal
            if (closeModalBtn) {
                closeModalBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    closeAddressModal();
                });
            }
            if (cancelAddressBtn) {
                cancelAddressBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    closeAddressModal();
                });
            }
            // Cerrar modal al hacer clic fuera de él
            if (addressModal) {
                addressModal.addEventListener('click', function(e) {
                    if (e.target === addressModal) {
                        closeAddressModal();
                    }
                });
            }
            // Asegurar que el modal se cierre correctamente al cambiar de página
            window.addEventListener('popstate', function() {
                if (addressModal && addressModal.style.display === 'block') {
                    closeAddressModal();
                }
            });
            // Limpiar estilos si el usuario navega a otra página
            document.addEventListener('visibilitychange', function() {
                if (document.hidden && addressModal && addressModal.style.display === 'block') {
                    cleanupBodyStyles();
                }
            });
            // Cerrar modal con tecla Escape
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && addressModal && addressModal.style.display === 'block') {
                    closeAddressModal();
                }
            });
            // No necesitamos limpieza especial ya que no usamos clases en el body
            // Manejar el envío del formulario
            const addressForm = document.getElementById('address-form');
            if (addressForm) {
                addressForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    // Aquí puedes agregar la lógica para guardar la dirección
                    // Simular guardado exitoso
                    const formData = new FormData(addressForm);
                    const addressData = Object.fromEntries(formData);
                    // Marcar que se guardó una dirección
                    addressSaved = true;
                    // Ocultar el estado vacío permanentemente
                    const emptyState = document.querySelector('#addresses-list .empty-state');
                    if (emptyState) {
                        emptyState.style.display = 'none';
                    }
                    // Mostrar mensaje de éxito (opcional)
                    alert('Dirección guardada exitosamente');
                    // Cerrar el modal
                    closeAddressModal();
                });
            }
        }
        // Función para inicializar el modal de métodos de pago
        function initializePaymentModal() {
            // Obtener elementos del modal
            const addFirstPaymentBtn = document.getElementById('add-payment-btn');
            const paymentModal = document.getElementById('payment-modal');
            const closePaymentModalBtn = document.getElementById('close-payment-modal');
            const cancelPaymentBtn = document.getElementById('cancel-payment');
            // Variable para rastrear si se guardó un método de pago
            let paymentSaved = false;
            // Función para abrir el modal
            function openPaymentModal() {
                if (paymentModal) {
                    // Mostrar el modal
                    paymentModal.style.display = 'block';
                    // Ocultar el estado vacío directamente
                    const emptyState = document.querySelector('#payment-methods-list .empty-state');
                    if (emptyState) {
                        emptyState.style.display = 'none';
                    }
                    // Resetear formulario
                    resetPaymentForm();
                    // Asegurar que el modal esté en la parte superior
                    setTimeout(() => {
                        paymentModal.scrollTop = 0;
                        // Enfocar el primer campo del formulario
                        const firstInput = paymentModal.querySelector('input[type="text"]');
                        if (firstInput) {
                            firstInput.focus();
                        }
                    }, 100);
                }
            }
            // Función para cerrar el modal
            function closePaymentModal() {
                if (paymentModal) {
                    // Ocultar el modal
                    paymentModal.style.display = 'none';
                    // Mostrar el estado vacío nuevamente solo si no se guardó ningún método
                    if (!paymentSaved) {
                        const emptyState = document.querySelector('#payment-methods-list .empty-state');
                        if (emptyState) {
                            emptyState.style.display = 'block';
                        }
                    }
                }
            }
            // Función para resetear el formulario
            function resetPaymentForm() {
                const form = document.getElementById('payment-form');
                if (form) {
                    form.reset();
                }
                // Ocultar todas las secciones de formulario
                const sections = document.querySelectorAll('.payment-form-section');
                sections.forEach(section => {
                    section.style.display = 'none';
                    section.classList.remove('active');
                });
                // Remover clase active de todas las opciones de tipo
                const options = document.querySelectorAll('.payment-type-option');
                options.forEach(option => {
                    option.classList.remove('active');
                });
            }
            // Event listeners para abrir el modal
            if (addFirstPaymentBtn) {
                addFirstPaymentBtn.addEventListener('click', openPaymentModal);
            }
            // Event listeners para cerrar el modal
            if (closePaymentModalBtn) {
                closePaymentModalBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    closePaymentModal();
                });
            }
            if (cancelPaymentBtn) {
                cancelPaymentBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    closePaymentModal();
                });
            }
            // Cerrar modal al hacer clic fuera de él
            if (paymentModal) {
                paymentModal.addEventListener('click', function(e) {
                    if (e.target === paymentModal) {
                        closePaymentModal();
                    }
                });
            }
            // Cerrar modal con tecla Escape
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && paymentModal && paymentModal.style.display === 'block') {
                    closePaymentModal();
                }
            });
            // Manejar selección de tipo de pago
            const paymentTypeOptions = document.querySelectorAll('.payment-type-option');
            paymentTypeOptions.forEach(option => {
                option.addEventListener('click', function() {
                    // Remover clase active de todas las opciones
                    paymentTypeOptions.forEach(opt => opt.classList.remove('active'));
                    // Agregar clase active a la opción seleccionada
                    this.classList.add('active');
                    // Ocultar todas las secciones de formulario
                    const sections = document.querySelectorAll('.payment-form-section');
                    sections.forEach(section => {
                        section.style.display = 'none';
                        section.classList.remove('active');
                    });
                    // Mostrar la sección correspondiente
                    const paymentType = this.getAttribute('data-type');
                    const targetSection = document.getElementById(paymentType + '-form');
                    if (targetSection) {
                        targetSection.style.display = 'block';
                        targetSection.classList.add('active');
                    }
                });
            });
            // Manejar el envío del formulario
            const paymentForm = document.getElementById('payment-form');
            if (paymentForm) {
                paymentForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    // Aquí puedes agregar la lógica para guardar el método de pago
                    // Simular guardado exitoso
                    const formData = new FormData(paymentForm);
                    const paymentData = Object.fromEntries(formData);
                    // Marcar que se guardó un método de pago
                    paymentSaved = true;
                    // Ocultar el estado vacío permanentemente
                    const emptyState = document.querySelector('#payment-methods-list .empty-state');
                    if (emptyState) {
                        emptyState.style.display = 'none';
                    }
                    // Mostrar la lista de métodos de pago
                    const paymentGrid = document.getElementById('payment-methods-grid');
                    if (paymentGrid) {
                        paymentGrid.style.display = 'grid';
                    }
                    // Crear y agregar la nueva card de método de pago
                    createPaymentCard(paymentData);
                    // Mostrar mensaje de éxito (opcional)
                    alert('Método de pago guardado exitosamente');
                    // Cerrar el modal
                    closePaymentModal();
                });
            }
        }
        // Función para crear cards de métodos de pago dinámicamente
        function createPaymentCard(paymentData) {
            const paymentGrid = document.getElementById('payment-methods-grid');
            if (!paymentGrid) return;
            // Determinar el tipo de método de pago
            let paymentType = 'card';
            if (paymentData['bank-name']) paymentType = 'bank';
            if (paymentData['wallet-type']) paymentType = 'digital';
            // Crear la card según el tipo
            let cardHTML = '';
            if (paymentType === 'card') {
                cardHTML = createCardPaymentCard(paymentData);
            } else if (paymentType === 'bank') {
                cardHTML = createBankPaymentCard(paymentData);
            } else if (paymentType === 'digital') {
                cardHTML = createDigitalPaymentCard(paymentData);
            }
            // Agregar la card al grid
            paymentGrid.insertAdjacentHTML('beforeend', cardHTML);
        }
        function createCardPaymentCard(data) {
            const cardNumber = data['card-number'] ? data['card-number'].replace(/\d(?=\d{4})/g, '*') : '**** **** **** ****';
            const cardType = data['card-type'] || 'Tarjeta';
            const cardName = data['card-name'] || 'Titular';
            const expiry = data['card-expiry'] || 'MM/AA';
            return `
                <div class="payment-card">
                    <div class="payment-header-card">
                        <div class="card-info">
                            <div class="card-type">
                                <i class="fab fa-cc-${cardType.toLowerCase()}"></i>
                                <span>${cardType}</span>
                            </div>
                            <div class="card-details">
                                <span class="card-number">${cardNumber}</span>
                                <span class="card-expiry">Exp: ${expiry}</span>
                            </div>
                        </div>
                        <div class="card-actions">
                            <button class="btn-set-default">Establecer como Principal</button>
                            <button class="btn-icon" title="Editar">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="btn-icon" title="Eliminar">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                    <div class="card-holder">
                        <span>${cardName}</span>
                    </div>
                </div>
            `;
        }
        function createBankPaymentCard(data) {
            const bankName = data['bank-name'] || 'Banco';
            const accountType = data['account-type'] || 'Cuenta';
            const accountNumber = data['account-number'] ? '****' + data['account-number'].slice(-4) : '****';
            const accountHolder = data['account-holder'] || 'Titular';
            return `
                <div class="payment-card bank-account">
                    <div class="payment-header-card">
                        <div class="card-info">
                            <div class="card-type">
                                <i class="fas fa-university"></i>
                                <span>Transferencia Bancaria</span>
                            </div>
                            <div class="card-details">
                                <span class="card-number">${bankName} - ${accountType}</span>
                                <span class="card-expiry">${accountNumber}</span>
                            </div>
                        </div>
                        <div class="card-actions">
                            <button class="btn-set-default">Establecer como Principal</button>
                            <button class="btn-icon" title="Editar">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="btn-icon" title="Eliminar">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                    <div class="card-holder">
                        <span>${accountHolder}</span>
                    </div>
                </div>
            `;
        }
        function createDigitalPaymentCard(data) {
            const walletType = data['wallet-type'] || 'Billetera';
            const phoneNumber = data['phone-number'] || '+56 9 **** ****';
            const walletHolder = data['wallet-holder'] || 'Titular';
            return `
                <div class="payment-card digital-wallet">
                    <div class="payment-header-card">
                        <div class="card-info">
                            <div class="card-type">
                                <i class="fas fa-mobile-alt"></i>
                                <span>${walletType}</span>
                            </div>
                            <div class="card-details">
                                <span class="card-number">${phoneNumber}</span>
                                <span class="card-expiry">Billetera Digital</span>
                            </div>
                        </div>
                        <div class="card-actions">
                            <button class="btn-set-default">Establecer como Principal</button>
                            <button class="btn-icon" title="Editar">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="btn-icon" title="Eliminar">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                    <div class="card-holder">
                        <span>${walletHolder}</span>
                    </div>
                </div>
            `;
        }
        // Inicializar cuando el DOM esté listo
        document.addEventListener('DOMContentLoaded', function() {
            // Cargar datos del usuario
            loadUserData();
            // Inicializar sidebar (esto ya maneja la activación de la sección por defecto)
            initializeSidebar();
            // Inicializar funcionalidad del modal de direcciones
            initializeAddressModal();
            // Inicializar funcionalidad del modal de métodos de pago
            initializePaymentModal();
            // Inicializar formulario de perfil
            initializeProfileForm();
            // Verificar que las secciones estén funcionando
            setTimeout(() => {
                const navItems = document.querySelectorAll('.nav-item[data-section]');
                const contentSections = document.querySelectorAll('.content-section');
                const activeSection = document.querySelector('.content-section.active');
                const activeNav = document.querySelector('.nav-item.active');
                // Debug: Listar todas las secciones disponibles
                contentSections.forEach((section, index) => {
                });
                navItems.forEach((item, index) => {
                    const sectionId = item.getAttribute('data-section');
                    const sectionExists = document.getElementById(sectionId);
                });
                // Si no hay sección activa, forzar la activación de datos-personales
                if (!activeSection) {
                    const defaultSection = document.getElementById('datos-personales');
                    const defaultNav = document.querySelector('[data-section="datos-personales"]');
                    if (defaultSection) {
                        defaultSection.classList.add('active');
                    }
                    if (defaultNav) {
                        defaultNav.classList.add('active');
                    }
                }
            }, 200);
        });
    </script>
</body>
</html>
